/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewContainerRef } from '@angular/core';
import { ThfPageEditBaseComponent } from './thf-page-edit-base.component';
import { callAction, hasAction } from '../thf-page-util/thf-page-util';
/**
 * \@docsExtends ThfPageEditBaseComponent
 *
 * \@example
 *
 * <example name="thf-page-edit-basic" title="Totvs Page Edit Basic">
 *  <file name="sample-thf-page-edit-basic/sample-thf-page-edit-basic.component.html"> </file>
 *  <file name="sample-thf-page-edit-basic/sample-thf-page-edit-basic.component.ts"> </file>
 * </example>
 *
 * <example name="thf-page-edit-labs" title="Totvs Page Edit Labs">
 *  <file name="sample-thf-page-edit-labs/sample-thf-page-edit-labs.component.html"> </file>
 *  <file name="sample-thf-page-edit-labs/sample-thf-page-edit-labs.component.ts"> </file>
 * </example>
 *
 * <example name="thf-page-edit-user" title="Totvs Page Edit - User">
 *  <file name="sample-thf-page-edit-user/sample-thf-page-edit-user.component.html"> </file>
 *  <file name="sample-thf-page-edit-user/sample-thf-page-edit-user.component.ts"> </file>
 * </example>
 */
export class ThfPageEditComponent extends ThfPageEditBaseComponent {
    /**
     * @param {?} viewRef
     */
    constructor(viewRef) {
        super();
        this.hasAction = hasAction;
        this.callAction = callAction;
        this.parentContext = viewRef['_view']['component'];
    }
    /**
     * @param {?} icon
     * @return {?}
     */
    getIcon(icon) {
        if (icon === 'cancel') {
            return this.isPrimaryAction('cancel') ? 'thf-icon-close' : '';
        }
        if (icon === 'saveNew') {
            return this.isPrimaryAction('saveNew') ? 'thf-icon-ok' : '';
        }
        return '';
    }
    /**
     * @param {?} type
     * @return {?}
     */
    getType(type) {
        /** @type {?} */
        const isCancelPrimaryAction = type === 'cancel' && this.isPrimaryAction('cancel');
        /** @type {?} */
        const isSaveNewPrimaryAction = type === 'saveNew' && this.isPrimaryAction('saveNew');
        return isCancelPrimaryAction || isSaveNewPrimaryAction ? 'primary' : 'default';
    }
    /**
     * @return {?}
     */
    hasAnyAction() {
        return hasAction('cancel', this.parentContext) || hasAction('saveNew', this.parentContext) || hasAction('save', this.parentContext);
    }
    /**
     * @return {?}
     */
    hasPageHeader() {
        return !!(this.title || this.hasAnyAction() || (this.breadcrumb && this.breadcrumb.items.length));
    }
    /**
     * @private
     * @param {?} action
     * @return {?}
     */
    isPrimaryAction(action) {
        /** @type {?} */
        const hasSaveAction = !hasAction('save', this.parentContext);
        if (action === 'saveNew') {
            return hasSaveAction;
        }
        if (action === 'cancel') {
            return !hasAction('saveNew', this.parentContext) && hasSaveAction;
        }
        return false;
    }
}
ThfPageEditComponent.decorators = [
    { type: Component, args: [{
                selector: 'thf-page-edit',
                template: "<thf-page>\n  <!-- HEADER -->\n  <thf-page-header\n    *ngIf=\"hasPageHeader()\"\n    [t-breadcrumb]=\"breadcrumb\"\n    [t-title]=\"title\">\n\n    <!-- OPERATIONS -->\n    <div *ngIf=\"hasAnyAction()\" class=\"thf-page-header-actions\">\n      <thf-button\n        *ngIf=\"hasAction('cancel', parentContext)\"\n        [t-icon]=\"getIcon('cancel')\"\n        [t-label]=\"literals.cancel\"\n        [t-type]=\"getType('cancel')\"\n        (t-click)=\"callAction('cancel', parentContext)\">\n      </thf-button>\n\n      <thf-button\n        *ngIf=\"hasAction('saveNew', parentContext)\"\n        [t-disabled]=\"disableSubmit\"\n        [t-icon]=\"getIcon('saveNew')\"\n        [t-label]=\"literals.saveNew\"\n        [t-type]=\"getType('saveNew')\"\n        (t-click)=\"callAction('saveNew', parentContext)\">\n      </thf-button>\n\n      <thf-button\n        *ngIf=\"hasAction('save', parentContext)\"\n        t-icon=\"thf-icon-ok\"\n        t-type=\"primary\"\n        [t-disabled]=\"disableSubmit\"\n        [t-label]=\"literals.save\"\n        (t-click)=\"callAction('save', parentContext)\">\n      </thf-button>\n    </div>\n\n  </thf-page-header>\n\n  <!-- CONTENT -->\n  <thf-page-content>\n    <ng-content>\n    </ng-content>\n  </thf-page-content>\n\n</thf-page>\n"
            }] }
];
/** @nocollapse */
ThfPageEditComponent.ctorParameters = () => [
    { type: ViewContainerRef }
];
if (false) {
    /** @type {?} */
    ThfPageEditComponent.prototype.hasAction;
    /** @type {?} */
    ThfPageEditComponent.prototype.callAction;
    /**
     * @type {?}
     * @private
     */
    ThfPageEditComponent.prototype.parentContext;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLXBhZ2UtZWRpdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdG90dnMvdGhmLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGhmLXBhZ2UvdGhmLXBhZ2UtZWRpdC90aGYtcGFnZS1lZGl0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUMxRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQnZFLE1BQU0sT0FBTyxvQkFBcUIsU0FBUSx3QkFBd0I7Ozs7SUFNaEUsWUFBWSxPQUF5QjtRQUNuQyxLQUFLLEVBQUUsQ0FBQztRQU5WLGNBQVMsR0FBYSxTQUFTLENBQUM7UUFDaEMsZUFBVSxHQUFhLFVBQVUsQ0FBQztRQU1oQyxJQUFJLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNyRCxDQUFDOzs7OztJQUVELE9BQU8sQ0FBQyxJQUFZO1FBQ2xCLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUNyQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDL0Q7UUFFRCxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDdEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUM3RDtRQUVELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQzs7Ozs7SUFFRCxPQUFPLENBQUMsSUFBWTs7Y0FDWixxQkFBcUIsR0FBRyxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDOztjQUMzRSxzQkFBc0IsR0FBRyxJQUFJLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDO1FBRXBGLE9BQU8scUJBQXFCLElBQUksc0JBQXNCLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ2pGLENBQUM7Ozs7SUFFRCxZQUFZO1FBQ1YsT0FBTyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN0SSxDQUFDOzs7O0lBRUQsYUFBYTtRQUNYLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDcEcsQ0FBQzs7Ozs7O0lBRU8sZUFBZSxDQUFDLE1BQWM7O2NBQzlCLGFBQWEsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUU1RCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDeEIsT0FBTyxhQUFhLENBQUM7U0FDdEI7UUFFRCxJQUFJLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDdkIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLGFBQWEsQ0FBQztTQUNuRTtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQzs7O1lBdERGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsZUFBZTtnQkFDekIseXdDQUE2QzthQUM5Qzs7OztZQTVCbUIsZ0JBQWdCOzs7O0lBOEJsQyx5Q0FBZ0M7O0lBQ2hDLDBDQUFrQzs7Ozs7SUFFbEMsNkNBQXdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFRoZlBhZ2VFZGl0QmFzZUNvbXBvbmVudCB9IGZyb20gJy4vdGhmLXBhZ2UtZWRpdC1iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBjYWxsQWN0aW9uLCBoYXNBY3Rpb24gfSBmcm9tICcuLi90aGYtcGFnZS11dGlsL3RoZi1wYWdlLXV0aWwnO1xuXG4vKipcbiAqIEBkb2NzRXh0ZW5kcyBUaGZQYWdlRWRpdEJhc2VDb21wb25lbnRcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJ0aGYtcGFnZS1lZGl0LWJhc2ljXCIgdGl0bGU9XCJUb3R2cyBQYWdlIEVkaXQgQmFzaWNcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi1wYWdlLWVkaXQtYmFzaWMvc2FtcGxlLXRoZi1wYWdlLWVkaXQtYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtdGhmLXBhZ2UtZWRpdC1iYXNpYy9zYW1wbGUtdGhmLXBhZ2UtZWRpdC1iYXNpYy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJ0aGYtcGFnZS1lZGl0LWxhYnNcIiB0aXRsZT1cIlRvdHZzIFBhZ2UgRWRpdCBMYWJzXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS10aGYtcGFnZS1lZGl0LWxhYnMvc2FtcGxlLXRoZi1wYWdlLWVkaXQtbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS10aGYtcGFnZS1lZGl0LWxhYnMvc2FtcGxlLXRoZi1wYWdlLWVkaXQtbGFicy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJ0aGYtcGFnZS1lZGl0LXVzZXJcIiB0aXRsZT1cIlRvdHZzIFBhZ2UgRWRpdCAtIFVzZXJcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi1wYWdlLWVkaXQtdXNlci9zYW1wbGUtdGhmLXBhZ2UtZWRpdC11c2VyLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi1wYWdlLWVkaXQtdXNlci9zYW1wbGUtdGhmLXBhZ2UtZWRpdC11c2VyLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RoZi1wYWdlLWVkaXQnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGhmLXBhZ2UtZWRpdC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgVGhmUGFnZUVkaXRDb21wb25lbnQgZXh0ZW5kcyBUaGZQYWdlRWRpdEJhc2VDb21wb25lbnQge1xuICBoYXNBY3Rpb246IEZ1bmN0aW9uID0gaGFzQWN0aW9uO1xuICBjYWxsQWN0aW9uOiBGdW5jdGlvbiA9IGNhbGxBY3Rpb247XG5cbiAgcHJpdmF0ZSBwYXJlbnRDb250ZXh0OiBWaWV3Q29udGFpbmVyUmVmO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdSZWY6IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucGFyZW50Q29udGV4dCA9IHZpZXdSZWZbJ192aWV3J11bJ2NvbXBvbmVudCddO1xuICB9XG5cbiAgZ2V0SWNvbihpY29uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChpY29uID09PSAnY2FuY2VsJykge1xuICAgICAgcmV0dXJuIHRoaXMuaXNQcmltYXJ5QWN0aW9uKCdjYW5jZWwnKSA/ICd0aGYtaWNvbi1jbG9zZScgOiAnJztcbiAgICB9XG5cbiAgICBpZiAoaWNvbiA9PT0gJ3NhdmVOZXcnKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ByaW1hcnlBY3Rpb24oJ3NhdmVOZXcnKSA/ICd0aGYtaWNvbi1vaycgOiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBnZXRUeXBlKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaXNDYW5jZWxQcmltYXJ5QWN0aW9uID0gdHlwZSA9PT0gJ2NhbmNlbCcgJiYgdGhpcy5pc1ByaW1hcnlBY3Rpb24oJ2NhbmNlbCcpO1xuICAgIGNvbnN0IGlzU2F2ZU5ld1ByaW1hcnlBY3Rpb24gPSB0eXBlID09PSAnc2F2ZU5ldycgJiYgdGhpcy5pc1ByaW1hcnlBY3Rpb24oJ3NhdmVOZXcnKTtcblxuICAgIHJldHVybiBpc0NhbmNlbFByaW1hcnlBY3Rpb24gfHwgaXNTYXZlTmV3UHJpbWFyeUFjdGlvbiA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0JztcbiAgfVxuXG4gIGhhc0FueUFjdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaGFzQWN0aW9uKCdjYW5jZWwnLCB0aGlzLnBhcmVudENvbnRleHQpIHx8IGhhc0FjdGlvbignc2F2ZU5ldycsIHRoaXMucGFyZW50Q29udGV4dCkgfHwgaGFzQWN0aW9uKCdzYXZlJywgdGhpcy5wYXJlbnRDb250ZXh0KTtcbiAgfVxuXG4gIGhhc1BhZ2VIZWFkZXIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKHRoaXMudGl0bGUgfHwgdGhpcy5oYXNBbnlBY3Rpb24oKSB8fCAodGhpcy5icmVhZGNydW1iICYmIHRoaXMuYnJlYWRjcnVtYi5pdGVtcy5sZW5ndGgpKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNQcmltYXJ5QWN0aW9uKGFjdGlvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGFzU2F2ZUFjdGlvbiA9ICFoYXNBY3Rpb24oJ3NhdmUnLCB0aGlzLnBhcmVudENvbnRleHQpO1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3NhdmVOZXcnKSB7XG4gICAgICByZXR1cm4gaGFzU2F2ZUFjdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uID09PSAnY2FuY2VsJykge1xuICAgICAgcmV0dXJuICFoYXNBY3Rpb24oJ3NhdmVOZXcnLCB0aGlzLnBhcmVudENvbnRleHQpICYmIGhhc1NhdmVBY3Rpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbn1cbiJdfQ==