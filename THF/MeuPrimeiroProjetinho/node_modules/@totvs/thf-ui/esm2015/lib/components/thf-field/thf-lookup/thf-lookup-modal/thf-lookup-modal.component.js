/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, ViewChild } from '@angular/core';
import { fromEvent } from 'rxjs';
import { debounceTime, filter } from 'rxjs/operators';
import { ThfLookupModalBaseComponent } from '../thf-lookup-modal/thf-lookup-modal-base.component';
/**
 * \@docsPrivate
 *
 * \@docsExtends ThfLookupModalBaseComponent
 */
export class ThfLookupModalComponent extends ThfLookupModalBaseComponent {
    constructor() {
        super(...arguments);
        this.keyUpObservable = null;
        this.containerHeight = 375;
        this.tableHeight = 370;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        super.ngOnInit();
        this.initializeEventInput();
        this.setTableHeight();
    }
    /**
     * @return {?}
     */
    initializeEventInput() {
        this.keyUpObservable = fromEvent(this.inputSearchEl.nativeElement, 'keyup')
            .pipe(filter((/**
         * @param {?} e
         * @return {?}
         */
        (e) => this.validateEnterPressed(e))), debounceTime(400));
        this.keyUpObservable.subscribe((/**
         * @return {?}
         */
        () => {
            this.search();
        }));
    }
    /**
     * @return {?}
     */
    openModal() {
        this.thfModal.open();
    }
    /**
     * @private
     * @return {?}
     */
    setTableHeight() {
        if (window.innerHeight < 615) {
            this.tableHeight -= 50;
            this.containerHeight -= 50;
        }
    }
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    validateEnterPressed(e) {
        return e.keyCode === 13;
    }
}
ThfLookupModalComponent.decorators = [
    { type: Component, args: [{
                selector: 'thf-lookup-modal',
                template: "<thf-modal\n  t-click-out=\"false\"\n  t-hide-close=\"false\"\n  t-size=\"lg\"\n  [t-primary-action]=\"primaryAction\"\n  [t-secondary-action]=\"secondaryAction\"\n  [t-title]=\"title\">\n\n  <thf-field-container\n    class=\"thf-lookup-header thf-md-6 thf-pull-right\"\n    [t-optional]=\"false\">\n\n    <div class=\"thf-field-container-content\">\n      <input #inpsearch\n        class=\"thf-input thf-input-icon-right\"\n        name=\"contentSearch\"\n        [(ngModel)]=\"searchValue\"\n        [placeholder]=\"literals.modalPlaceholder\"\n        type=\"text\">\n\n      <div class=\"thf-field-icon-container-right\">\n        <span #iconLookup\n          class=\"thf-icon thf-field-icon thf-icon-search\"\n          (click)=\"search()\">\n        </span>\n      </div>\n    </div>\n\n  </thf-field-container>\n\n  <div class=\"thf-row thf-lookup-container-table\" [style.height.px]=\"containerHeight\">\n\n    <thf-table\n      class=\"thf-md-12\"\n      t-checkbox=\"true\"\n      t-hide-detail=\"true\"\n      t-single-select=\"true\"\n      t-sort=\"true\"\n      [t-columns]=\"columns\"\n      [t-height]=\"tableHeight\"\n      [t-items]=\"items\"\n      [t-literals]=\"tableLiterals\"\n      [t-loading]=\"isLoading\"\n      [t-show-more-disabled]=\"!hasNext\"\n      (t-show-more)=\"showMoreEvent()\">\n    </thf-table>\n\n  </div>\n\n</thf-modal>\n"
            }] }
];
ThfLookupModalComponent.propDecorators = {
    inputSearchEl: [{ type: ViewChild, args: ['inpsearch', { static: true },] }]
};
if (false) {
    /** @type {?} */
    ThfLookupModalComponent.prototype.inputSearchEl;
    /** @type {?} */
    ThfLookupModalComponent.prototype.keyUpObservable;
    /** @type {?} */
    ThfLookupModalComponent.prototype.containerHeight;
    /** @type {?} */
    ThfLookupModalComponent.prototype.tableHeight;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLWxvb2t1cC1tb2RhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdG90dnMvdGhmLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGhmLWZpZWxkL3RoZi1sb29rdXAvdGhmLWxvb2t1cC1tb2RhbC90aGYtbG9va3VwLW1vZGFsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXpFLE9BQU8sRUFBRSxTQUFTLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDN0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV0RCxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQzs7Ozs7O0FBV2xHLE1BQU0sT0FBTyx1QkFBd0IsU0FBUSwyQkFBMkI7SUFKeEU7O1FBUUUsb0JBQWUsR0FBb0IsSUFBSSxDQUFDO1FBRXhDLG9CQUFlLEdBQVcsR0FBRyxDQUFDO1FBQzlCLGdCQUFXLEdBQVcsR0FBRyxDQUFDO0lBb0M1QixDQUFDOzs7O0lBbENDLFFBQVE7UUFDTixLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFakIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3hCLENBQUM7Ozs7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEVBQUUsT0FBTyxDQUFDO2FBQ3hFLElBQUksQ0FDSCxNQUFNOzs7O1FBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsRUFBQyxFQUNoRCxZQUFZLENBQUMsR0FBRyxDQUFDLENBQ2xCLENBQUM7UUFFSixJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVM7OztRQUFDLEdBQUcsRUFBRTtZQUNsQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7O0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkIsQ0FBQzs7Ozs7SUFFTyxjQUFjO1FBQ3BCLElBQUksTUFBTSxDQUFDLFdBQVcsR0FBRyxHQUFHLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLGVBQWUsSUFBSSxFQUFFLENBQUM7U0FDNUI7SUFDSCxDQUFDOzs7Ozs7SUFFTyxvQkFBb0IsQ0FBQyxDQUFNO1FBQ2pDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7SUFDMUIsQ0FBQzs7O1lBN0NGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsa0JBQWtCO2dCQUM1QixpMkNBQWdEO2FBQ2pEOzs7NEJBR0UsU0FBUyxTQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7Ozs7SUFBeEMsZ0RBQW9FOztJQUVwRSxrREFBd0M7O0lBRXhDLGtEQUE4Qjs7SUFDOUIsOENBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBmcm9tRXZlbnQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBUaGZMb29rdXBNb2RhbEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi90aGYtbG9va3VwLW1vZGFsL3RoZi1sb29rdXAtbW9kYWwtYmFzZS5jb21wb25lbnQnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkb2NzRXh0ZW5kcyBUaGZMb29rdXBNb2RhbEJhc2VDb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGhmLWxvb2t1cC1tb2RhbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi90aGYtbG9va3VwLW1vZGFsLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBUaGZMb29rdXBNb2RhbENvbXBvbmVudCBleHRlbmRzIFRoZkxvb2t1cE1vZGFsQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQFZpZXdDaGlsZCgnaW5wc2VhcmNoJywgeyBzdGF0aWM6IHRydWUgfSkgaW5wdXRTZWFyY2hFbDogRWxlbWVudFJlZjtcblxuICBrZXlVcE9ic2VydmFibGU6IE9ic2VydmFibGU8YW55PiA9IG51bGw7XG5cbiAgY29udGFpbmVySGVpZ2h0OiBudW1iZXIgPSAzNzU7XG4gIHRhYmxlSGVpZ2h0OiBudW1iZXIgPSAzNzA7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUV2ZW50SW5wdXQoKTtcbiAgICB0aGlzLnNldFRhYmxlSGVpZ2h0KCk7XG4gIH1cblxuICBpbml0aWFsaXplRXZlbnRJbnB1dCgpOiB2b2lkIHtcbiAgICB0aGlzLmtleVVwT2JzZXJ2YWJsZSA9IGZyb21FdmVudCh0aGlzLmlucHV0U2VhcmNoRWwubmF0aXZlRWxlbWVudCwgJ2tleXVwJylcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKGU6IGFueSkgPT4gdGhpcy52YWxpZGF0ZUVudGVyUHJlc3NlZChlKSksXG4gICAgICAgIGRlYm91bmNlVGltZSg0MDApXG4gICAgICApO1xuXG4gICAgdGhpcy5rZXlVcE9ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMuc2VhcmNoKCk7XG4gICAgfSk7XG4gIH1cblxuICBvcGVuTW9kYWwoKSB7XG4gICAgdGhpcy50aGZNb2RhbC5vcGVuKCk7XG4gIH1cblxuICBwcml2YXRlIHNldFRhYmxlSGVpZ2h0KCkge1xuICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCA2MTUpIHtcbiAgICAgIHRoaXMudGFibGVIZWlnaHQgLT0gNTA7XG4gICAgICB0aGlzLmNvbnRhaW5lckhlaWdodCAtPSA1MDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZhbGlkYXRlRW50ZXJQcmVzc2VkKGU6IGFueSkge1xuICAgIHJldHVybiBlLmtleUNvZGUgPT09IDEzO1xuICB9XG5cbn1cbiJdfQ==