/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ViewContainerRef } from '@angular/core';
import { ThfWidgetBaseComponent } from './thf-widget-base.component';
/**
 * \@docsExtends ThfWidgetBaseComponent
 *
 * \@example
 *
 * <example name="thf-widget-basic" title="Totvs Widget Basic">
 *  <file name="sample-thf-widget-basic/sample-thf-widget-basic.component.html"> </file>
 *  <file name="sample-thf-widget-basic/sample-thf-widget-basic.component.ts"> </file>
 * </example>
 *
 * <example name="thf-widget-labs" title="Totvs Widget Labs">
 *  <file name="sample-thf-widget-labs/sample-thf-widget-labs.component.html"> </file>
 *  <file name="sample-thf-widget-labs/sample-thf-widget-labs.component.ts"> </file>
 * </example>
 *
 * <example name="thf-widget-finance-dashboard" title="Totvs Widget - Finance dashboard">
 *  <file name="sample-thf-widget-finance-dashboard/sample-thf-widget-finance-dashboard.component.html"> </file>
 *  <file name="sample-thf-widget-finance-dashboard/sample-thf-widget-finance-dashboard.component.ts"> </file>
 * </example>
 *
 * <example name="thf-widget-card" title="Totvs Widget - Card">
 *  <file name="sample-thf-widget-card/sample-thf-widget-card.component.html"> </file>
 *  <file name="sample-thf-widget-card/sample-thf-widget-card.component.ts"> </file>
 * </example>
 *
 */
var ThfWidgetComponent = /** @class */ (function (_super) {
    tslib_1.__extends(ThfWidgetComponent, _super);
    function ThfWidgetComponent(viewRef) {
        return _super.call(this) || this;
    }
    Object.defineProperty(ThfWidgetComponent.prototype, "showTitleAction", {
        get: /**
         * @return {?}
         */
        function () {
            return !!this.titleAction.observers[0];
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ThfWidgetComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.setHeight(this.height);
    };
    /**
     * @return {?}
     */
    ThfWidgetComponent.prototype.hasTitleHelpOrSetting = /**
     * @return {?}
     */
    function () {
        return !!this.title || !!this.help || !!this.setting.observers[0];
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.onClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            this.click.emit(event);
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.openHelp = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            window.open(this.help, '_blank');
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.runPrimaryAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.primaryAction.emit();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.runSecondaryAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.secondaryAction.emit();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.runTitleAction = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.titleAction.emit();
        }
    };
    /**
     * @param {?} height
     * @return {?}
     */
    ThfWidgetComponent.prototype.setHeight = /**
     * @param {?} height
     * @return {?}
     */
    function (height) {
        if (height) {
            /** @type {?} */
            var bodyHeight = height;
            /** @type {?} */
            var hasSettingOrHelp = this.setting.observers.length > 0 || this.help;
            /** @type {?} */
            var footerBorder = 1;
            /** @type {?} */
            var footerHeight = 40;
            /** @type {?} */
            var settingHeight = 37;
            /** @type {?} */
            var shadowHeight = 2;
            /** @type {?} */
            var titleHeight = 50;
            if (this.noShadow) {
                bodyHeight -= shadowHeight;
            }
            if (hasSettingOrHelp && !this.title) {
                bodyHeight -= settingHeight;
            }
            if (this.title) {
                bodyHeight -= titleHeight;
            }
            if (this.primaryLabel) {
                bodyHeight -= footerHeight + footerBorder;
            }
            this.containerHeight = bodyHeight + "px";
        }
        else {
            this.containerHeight = "auto";
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ThfWidgetComponent.prototype.settingOutput = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.disabled) {
            event.stopPropagation();
            this.setting.emit();
        }
    };
    ThfWidgetComponent.decorators = [
        { type: Component, args: [{
                    selector: 'thf-widget',
                    template: "<div\n  [class.thf-clickable]=\"click.observers.length\"\n  [class.thf-widget]=\"!primary\"\n  [class.thf-widget-disabled]=\"disabled\"\n  [class.thf-widget-primary]=\"primary\"\n  [class.thf-widget-no-shadow]=\"noShadow\"\n  [style.background-image]=\"background ? 'url(' + background + ')' : undefined\"\n  (click)=\"onClick($event)\">\n\n  <div *ngIf=\"hasTitleHelpOrSetting()\" class=\"thf-widget-header\">\n\n    <span\n      *ngIf=\"showTitleAction; else noTitleAction\"\n      class=\"thf-widget-title-action\"\n      (click)=\"runTitleAction($event)\">\n      {{ title }}\n    </span>\n    <ng-template #noTitleAction>{{ title }}</ng-template>\n\n    <div *ngIf=\"setting.observers[0] || help\" class=\"thf-pull-right\">\n      <span id=\"settingAction\"\n        *ngIf=\"setting.observers[0]\"\n        class=\"thf-clickable thf-icon thf-icon-settings\"\n        (click)=\"settingOutput($event)\">\n      </span>\n      <span id=\"helpLink\"\n        *ngIf=\"help\"\n        class=\"thf-clickable thf-icon thf-icon-help\"\n        (click)=\"openHelp($event)\">\n      </span>\n    </div>\n  </div>\n\n  <thf-container\n    t-no-border\n    [t-height]=\"containerHeight\">\n    <div class=\"thf-widget-body\">\n      <ng-content></ng-content>\n    </div>\n  </thf-container>\n\n  <div *ngIf=\"primaryLabel\" class=\"thf-widget-footer\">\n\n    <div class=\"thf-widget-xl\" *ngIf=\"!secondaryLabel\">\n      <a class=\"thf-widget-action\" id='primaryAct' (click)=\"runPrimaryAction($event)\">{{ primaryLabel }}</a>\n    </div>\n\n    <div class=\"thf-widget-md\" *ngIf=\"secondaryLabel\">\n      <a class=\"thf-widget-action\" id='primaryAct' (click)=\"runPrimaryAction($event)\">{{ primaryLabel }}</a>\n    </div>\n    <div class=\"thf-widget-md\" *ngIf=\"secondaryLabel\">\n      <a class=\"thf-widget-action\" id='secondaryAct' (click)=\"runSecondaryAction($event)\">{{ secondaryLabel }}</a>\n    </div>\n\n  </div>\n</div>\n"
                }] }
    ];
    /** @nocollapse */
    ThfWidgetComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    return ThfWidgetComponent;
}(ThfWidgetBaseComponent));
export { ThfWidgetComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLXdpZGdldC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdG90dnMvdGhmLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGhmLXdpZGdldC90aGYtd2lkZ2V0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsZ0JBQWdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFcEUsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRCckU7SUFJd0MsOENBQXNCO0lBTTVELDRCQUFZLE9BQXlCO2VBQ25DLGlCQUFPO0lBQ1QsQ0FBQztJQU5ELHNCQUFJLCtDQUFlOzs7O1FBQW5CO1lBQ0UsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsQ0FBQzs7O09BQUE7Ozs7SUFNRCxxQ0FBUTs7O0lBQVI7UUFDRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QixDQUFDOzs7O0lBRUQsa0RBQXFCOzs7SUFBckI7UUFDRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDOzs7OztJQUVELG9DQUFPOzs7O0lBQVAsVUFBUSxLQUFpQjtRQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN4QjtJQUNILENBQUM7Ozs7O0lBRUQscUNBQVE7Ozs7SUFBUixVQUFTLEtBQWlCO1FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDbEM7SUFDSCxDQUFDOzs7OztJQUVELDZDQUFnQjs7OztJQUFoQixVQUFpQixLQUFpQjtRQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUMzQjtJQUNILENBQUM7Ozs7O0lBRUQsK0NBQWtCOzs7O0lBQWxCLFVBQW1CLEtBQWlCO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQzdCO0lBQ0gsQ0FBQzs7Ozs7SUFFRCwyQ0FBYzs7OztJQUFkLFVBQWUsS0FBaUI7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDekI7SUFDSCxDQUFDOzs7OztJQUVELHNDQUFTOzs7O0lBQVQsVUFBVSxNQUFjO1FBQ3RCLElBQUksTUFBTSxFQUFFOztnQkFDTixVQUFVLEdBQUcsTUFBTTs7Z0JBQ2pCLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUk7O2dCQUNqRSxZQUFZLEdBQUcsQ0FBQzs7Z0JBQ2hCLFlBQVksR0FBRyxFQUFFOztnQkFDakIsYUFBYSxHQUFHLEVBQUU7O2dCQUNsQixZQUFZLEdBQUcsQ0FBQzs7Z0JBQ2hCLFdBQVcsR0FBRyxFQUFFO1lBRXRCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDakIsVUFBVSxJQUFJLFlBQVksQ0FBQzthQUM1QjtZQUVELElBQUksZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNuQyxVQUFVLElBQUksYUFBYSxDQUFDO2FBQzdCO1lBRUQsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNkLFVBQVUsSUFBSSxXQUFXLENBQUM7YUFDM0I7WUFFRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ3JCLFVBQVUsSUFBSSxZQUFZLEdBQUcsWUFBWSxDQUFDO2FBQzNDO1lBRUQsSUFBSSxDQUFDLGVBQWUsR0FBTSxVQUFVLE9BQUksQ0FBQztTQUMxQzthQUFNO1lBQ0wsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUM7U0FDL0I7SUFDSCxDQUFDOzs7OztJQUVELDBDQUFhOzs7O0lBQWIsVUFBYyxLQUFpQjtRQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNyQjtJQUNILENBQUM7O2dCQTdGRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLFlBQVk7b0JBQ3RCLDI1REFBMEM7aUJBQzNDOzs7O2dCQWpDMkIsZ0JBQWdCOztJQTZINUMseUJBQUM7Q0FBQSxBQS9GRCxDQUl3QyxzQkFBc0IsR0EyRjdEO1NBM0ZZLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFRoZldpZGdldEJhc2VDb21wb25lbnQgfSBmcm9tICcuL3RoZi13aWRnZXQtYmFzZS5jb21wb25lbnQnO1xuXG4vKipcbiAqIEBkb2NzRXh0ZW5kcyBUaGZXaWRnZXRCYXNlQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwidGhmLXdpZGdldC1iYXNpY1wiIHRpdGxlPVwiVG90dnMgV2lkZ2V0IEJhc2ljXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS10aGYtd2lkZ2V0LWJhc2ljL3NhbXBsZS10aGYtd2lkZ2V0LWJhc2ljLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi13aWRnZXQtYmFzaWMvc2FtcGxlLXRoZi13aWRnZXQtYmFzaWMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwidGhmLXdpZGdldC1sYWJzXCIgdGl0bGU9XCJUb3R2cyBXaWRnZXQgTGFic1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtdGhmLXdpZGdldC1sYWJzL3NhbXBsZS10aGYtd2lkZ2V0LWxhYnMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtdGhmLXdpZGdldC1sYWJzL3NhbXBsZS10aGYtd2lkZ2V0LWxhYnMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwidGhmLXdpZGdldC1maW5hbmNlLWRhc2hib2FyZFwiIHRpdGxlPVwiVG90dnMgV2lkZ2V0IC0gRmluYW5jZSBkYXNoYm9hcmRcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi13aWRnZXQtZmluYW5jZS1kYXNoYm9hcmQvc2FtcGxlLXRoZi13aWRnZXQtZmluYW5jZS1kYXNoYm9hcmQuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtdGhmLXdpZGdldC1maW5hbmNlLWRhc2hib2FyZC9zYW1wbGUtdGhmLXdpZGdldC1maW5hbmNlLWRhc2hib2FyZC5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJ0aGYtd2lkZ2V0LWNhcmRcIiB0aXRsZT1cIlRvdHZzIFdpZGdldCAtIENhcmRcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi13aWRnZXQtY2FyZC9zYW1wbGUtdGhmLXdpZGdldC1jYXJkLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXRoZi13aWRnZXQtY2FyZC9zYW1wbGUtdGhmLXdpZGdldC1jYXJkLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd0aGYtd2lkZ2V0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RoZi13aWRnZXQuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFRoZldpZGdldENvbXBvbmVudCBleHRlbmRzIFRoZldpZGdldEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGdldCBzaG93VGl0bGVBY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy50aXRsZUFjdGlvbi5vYnNlcnZlcnNbMF07XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih2aWV3UmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0KTtcbiAgfVxuXG4gIGhhc1RpdGxlSGVscE9yU2V0dGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnRpdGxlIHx8ICEhdGhpcy5oZWxwIHx8ICEhdGhpcy5zZXR0aW5nLm9ic2VydmVyc1swXTtcbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuY2xpY2suZW1pdChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkhlbHAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgd2luZG93Lm9wZW4odGhpcy5oZWxwLCAnX2JsYW5rJyk7XG4gICAgfVxuICB9XG5cbiAgcnVuUHJpbWFyeUFjdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb24uZW1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1blNlY29uZGFyeUFjdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNlY29uZGFyeUFjdGlvbi5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgcnVuVGl0bGVBY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy50aXRsZUFjdGlvbi5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgaWYgKGhlaWdodCkge1xuICAgICAgbGV0IGJvZHlIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBjb25zdCBoYXNTZXR0aW5nT3JIZWxwID0gdGhpcy5zZXR0aW5nLm9ic2VydmVycy5sZW5ndGggPiAwIHx8IHRoaXMuaGVscDtcbiAgICAgIGNvbnN0IGZvb3RlckJvcmRlciA9IDE7XG4gICAgICBjb25zdCBmb290ZXJIZWlnaHQgPSA0MDtcbiAgICAgIGNvbnN0IHNldHRpbmdIZWlnaHQgPSAzNztcbiAgICAgIGNvbnN0IHNoYWRvd0hlaWdodCA9IDI7XG4gICAgICBjb25zdCB0aXRsZUhlaWdodCA9IDUwO1xuXG4gICAgICBpZiAodGhpcy5ub1NoYWRvdykge1xuICAgICAgICBib2R5SGVpZ2h0IC09IHNoYWRvd0hlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc1NldHRpbmdPckhlbHAgJiYgIXRoaXMudGl0bGUpIHtcbiAgICAgICAgYm9keUhlaWdodCAtPSBzZXR0aW5nSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50aXRsZSkge1xuICAgICAgICBib2R5SGVpZ2h0IC09IHRpdGxlSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcmltYXJ5TGFiZWwpIHtcbiAgICAgICAgYm9keUhlaWdodCAtPSBmb290ZXJIZWlnaHQgKyBmb290ZXJCb3JkZXI7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gYCR7Ym9keUhlaWdodH1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gYGF1dG9gO1xuICAgIH1cbiAgfVxuXG4gIHNldHRpbmdPdXRwdXQoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zZXR0aW5nLmVtaXQoKTtcbiAgICB9XG4gIH1cblxufVxuIl19