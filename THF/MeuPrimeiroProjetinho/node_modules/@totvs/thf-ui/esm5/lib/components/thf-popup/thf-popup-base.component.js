/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ElementRef, Input } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { THF_CONTROL_POSITIONS } from './../../services/thf-control-position/thf-control-position.constants';
/** @type {?} */
var thfPopupDefaultPosition = 'bottom-left';
/**
 * \@description
 *
 * O componente `thf-popup` é um container pequeno recomendado para ações de navegação:
 * Ele abre sobreposto aos outros componentes.
 *
 * É possível escolher as posições do `thf-popup` em relação ao componente alvo, para isto veja a propriedade `t-position`.
 *
 * Também é possível informar um _template_ _header_ para o `thf-popup`, que será exibido acima das ações.
 * Para funcionar corretamente é preciso adicionar a propriedade `t-popup-header-template` no elemento que servirá de template, por exemplo:
 *
 * ```
 * <thf-popup [t-target]="target">
 *   <div t-popup-header-template>
 *     <div>
 *       Dev Totvs
 *     </div>
 *     <div>
 *       dev.totvs\@totvs.com.br
 *     </div>
 *   </div>
 * </thf-popup >
 * ```
 */
var ThfPopupBaseComponent = /** @class */ (function () {
    function ThfPopupBaseComponent() {
        this._hideArrow = false;
        this._isCornerAlign = false;
        this._position = thfPopupDefaultPosition;
        this.arrowDirection = 'top-right';
        this.showPopup = false;
    }
    Object.defineProperty(ThfPopupBaseComponent.prototype, "actions", {
        get: /**
         * @return {?}
         */
        function () {
            return this._actions;
        },
        /** Lista de ações que serão exibidas no componente. */
        set: /**
         * Lista de ações que serão exibidas no componente.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._actions = Array.isArray(value) ? value : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPopupBaseComponent.prototype, "hideArrow", {
        get: /**
         * @return {?}
         */
        function () {
            return this._hideArrow;
        },
        /**
         * @optional
         *
         * @description
         *
         * Oculta a seta do componente *popup*.
         *
         * @default `false`
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Oculta a seta do componente *popup*.
         *
         * \@default `false`
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._hideArrow = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPopupBaseComponent.prototype, "isCornerAlign", {
        get: /**
         * @return {?}
         */
        function () {
            return this._isCornerAlign;
        },
        // Define se o `thf-popup` será alinhado pelos cantos do elemento target.
        set: 
        // Define se o `thf-popup` será alinhado pelos cantos do elemento target.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._isCornerAlign = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPopupBaseComponent.prototype, "position", {
        get: /**
         * @return {?}
         */
        function () {
            return this._position;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define a posição inicial que o `thf-popup` abrirá em relação ao componente alvo. Sugere-se que seja
         * usada a orientação `bottom-left` (abaixo e a esquerda), porém o mesmo é flexível e será rotacionado
         * automaticamente para se adequar a tela, caso necessário.
         *
         * > Caso seja definido um `t-custom-positions` o componente irá abrir na posição definida na propriedade `t-position`
         * e caso não caiba na posição inicial ele irá rotacionar seguindo a ordem de posições definidas no `t-custom-positions`.
         *
         * Posições válidas:
         * - `right`: Posiciona o thf-popup no lado direito do componente alvo.
         * - `right-bottom`: Posiciona o thf-popup no lado direito inferior do componente alvo.
         * - `right-top`: Posiciona o thf-popup no lado direito superior do componente alvo.
         * - `bottom`: Posiciona o thf-popup abaixo do componente alvo.
         * - `bottom-left`: Posiciona o thf-popup abaixo e à esquerda do componente alvo.
         * - `bottom-right`: Posiciona o thf-popup abaixo e à direita do componente alvo.
         * - `left`: Posiciona o thf-popup no lado esquerdo do componente alvo.
         * - `left-top`: Posiciona o thf-popup no lado esquerdo superior do componente alvo.
         * - `left-bottom`: Posiciona o thf-popup no lado esquerdo inferior do componente alvo.
         * - `top`: Posiciona o thf-popup acima do componente alvo.
         * - `top-right`: Posiciona o thf-popup acima e à direita do componente alvo.
         * - `top-left`: Posiciona o thf-popup acima e à esquerda do componente alvo.
         *
         * @default `bottom-left`
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Define a posição inicial que o `thf-popup` abrirá em relação ao componente alvo. Sugere-se que seja
         * usada a orientação `bottom-left` (abaixo e a esquerda), porém o mesmo é flexível e será rotacionado
         * automaticamente para se adequar a tela, caso necessário.
         *
         * > Caso seja definido um `t-custom-positions` o componente irá abrir na posição definida na propriedade `t-position`
         * e caso não caiba na posição inicial ele irá rotacionar seguindo a ordem de posições definidas no `t-custom-positions`.
         *
         * Posições válidas:
         * - `right`: Posiciona o thf-popup no lado direito do componente alvo.
         * - `right-bottom`: Posiciona o thf-popup no lado direito inferior do componente alvo.
         * - `right-top`: Posiciona o thf-popup no lado direito superior do componente alvo.
         * - `bottom`: Posiciona o thf-popup abaixo do componente alvo.
         * - `bottom-left`: Posiciona o thf-popup abaixo e à esquerda do componente alvo.
         * - `bottom-right`: Posiciona o thf-popup abaixo e à direita do componente alvo.
         * - `left`: Posiciona o thf-popup no lado esquerdo do componente alvo.
         * - `left-top`: Posiciona o thf-popup no lado esquerdo superior do componente alvo.
         * - `left-bottom`: Posiciona o thf-popup no lado esquerdo inferior do componente alvo.
         * - `top`: Posiciona o thf-popup acima do componente alvo.
         * - `top-right`: Posiciona o thf-popup acima e à direita do componente alvo.
         * - `top-left`: Posiciona o thf-popup acima e à esquerda do componente alvo.
         *
         * \@default `bottom-left`
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._position = THF_CONTROL_POSITIONS.includes(value) ? value : thfPopupDefaultPosition;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPopupBaseComponent.prototype, "customPositions", {
        get: /**
         * @return {?}
         */
        function () {
            return this._customPositions;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define as posições e a sequência que o `thf-popup` poderá rotacionar. A sequência será definida pela ordem passada
         * no *array*. Caso não seja definido, o `thf-popup` irá rotacionar em todas as posições válidas.
         *
         * > O componente sempre irá abrir na posição definida no `t-position` e caso não caiba na posição definida o mesmo
         * irá rotacionar seguindo a ordem definida pelo `t-custom-position`.
         *
         * Posições válidas:
         * - `right`: Posiciona o thf-popup no lado direito do componente alvo.
         * - `right-bottom`: Posiciona o thf-popup no lado direito inferior do componente alvo.
         * - `right-top`: Posiciona o thf-popup no lado direito superior do componente alvo.
         * - `bottom`: Posiciona o thf-popup abaixo do componente alvo.
         * - `bottom-left`: Posiciona o thf-popup abaixo e à esquerda do componente alvo.
         * - `bottom-right`: Posiciona o thf-popup abaixo e à direita do componente alvo.
         * - `left`: Posiciona o thf-popup no lado esquerdo do componente alvo.
         * - `left-top`: Posiciona o thf-popup no lado esquerdo superior do componente alvo.
         * - `left-bottom`: Posiciona o thf-popup no lado esquerdo inferior do componente alvo.
         * - `top`: Posiciona o thf-popup acima do componente alvo.
         * - `top-right`: Posiciona o thf-popup acima e à direita do componente alvo.
         * - `top-left`: Posiciona o thf-popup acima e à esquerda do componente alvo.
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Define as posições e a sequência que o `thf-popup` poderá rotacionar. A sequência será definida pela ordem passada
         * no *array*. Caso não seja definido, o `thf-popup` irá rotacionar em todas as posições válidas.
         *
         * > O componente sempre irá abrir na posição definida no `t-position` e caso não caiba na posição definida o mesmo
         * irá rotacionar seguindo a ordem definida pelo `t-custom-position`.
         *
         * Posições válidas:
         * - `right`: Posiciona o thf-popup no lado direito do componente alvo.
         * - `right-bottom`: Posiciona o thf-popup no lado direito inferior do componente alvo.
         * - `right-top`: Posiciona o thf-popup no lado direito superior do componente alvo.
         * - `bottom`: Posiciona o thf-popup abaixo do componente alvo.
         * - `bottom-left`: Posiciona o thf-popup abaixo e à esquerda do componente alvo.
         * - `bottom-right`: Posiciona o thf-popup abaixo e à direita do componente alvo.
         * - `left`: Posiciona o thf-popup no lado esquerdo do componente alvo.
         * - `left-top`: Posiciona o thf-popup no lado esquerdo superior do componente alvo.
         * - `left-bottom`: Posiciona o thf-popup no lado esquerdo inferior do componente alvo.
         * - `top`: Posiciona o thf-popup acima do componente alvo.
         * - `top-right`: Posiciona o thf-popup acima e à direita do componente alvo.
         * - `top-left`: Posiciona o thf-popup acima e à esquerda do componente alvo.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._customPositions = Array.isArray(value) ? value : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPopupBaseComponent.prototype, "target", {
        get: /**
         * @return {?}
         */
        function () {
            return this._target;
        },
        /**
         * @description
         *
         * Para utilizar o `thf-popup` deve-se colocar uma variável local no componente que disparará o evento
         * de abertura no mesmo e com isso, invocará a função `toggle`, por exemplo:
         *
         * ```
         * <span #icon class="thf-icon thf-icon-credit-payment" (click)="popup.toggle()">
         *   Credit Actions
         * </span>
         *
         * <thf-popup #popup
         *   [t-actions]="actions"
         *   [t-target]="icon">
         * </thf-popup>
         * ```
         *
         * Caso o elemento alvo for um componente, será preciso obter o `ElementRef` do mesmo e passá-lo à propriedade, por exemplo:
         *
         * ```
         * // component.html
         *
         * <thf-button #thfButton
         *   t-label="Open Popover"
         *   (t-click)="popup.toggle()">
         * </thf-button>
         *
         * <thf-popup #popup
         *   [t-actions]="actions"
         *   [t-target]="thfButtonRef">
         * </thf-popup>
         *
         * // component.ts
         *
         * @ViewChild('thfButton', { read: ElementRef }) thfButtonRef: ElementRef;
         * ```
         */
        set: /**
         * \@description
         *
         * Para utilizar o `thf-popup` deve-se colocar uma variável local no componente que disparará o evento
         * de abertura no mesmo e com isso, invocará a função `toggle`, por exemplo:
         *
         * ```
         * <span #icon class="thf-icon thf-icon-credit-payment" (click)="popup.toggle()">
         *   Credit Actions
         * </span>
         *
         * <thf-popup #popup
         *   [t-actions]="actions"
         *   [t-target]="icon">
         * </thf-popup>
         * ```
         *
         * Caso o elemento alvo for um componente, será preciso obter o `ElementRef` do mesmo e passá-lo à propriedade, por exemplo:
         *
         * ```
         * // component.html
         *
         * <thf-button #thfButton
         *   t-label="Open Popover"
         *   (t-click)="popup.toggle()">
         * </thf-button>
         *
         * <thf-popup #popup
         *   [t-actions]="actions"
         *   [t-target]="thfButtonRef">
         * </thf-popup>
         *
         * // component.ts
         *
         * \@ViewChild('thfButton', { read: ElementRef }) thfButtonRef: ElementRef;
         * ```
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._target = (value instanceof ElementRef) ? value.nativeElement : value;
        },
        enumerable: true,
        configurable: true
    });
    ThfPopupBaseComponent.propDecorators = {
        actions: [{ type: Input, args: ['t-actions',] }],
        hideArrow: [{ type: Input, args: ['t-hide-arrow',] }],
        isCornerAlign: [{ type: Input, args: ['t-is-corner-align',] }],
        position: [{ type: Input, args: ['t-position',] }],
        customPositions: [{ type: Input, args: ['t-custom-positions',] }],
        target: [{ type: Input, args: ['t-target',] }]
    };
    return ThfPopupBaseComponent;
}());
export { ThfPopupBaseComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._actions;
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._customPositions;
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._hideArrow;
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._isCornerAlign;
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._position;
    /**
     * @type {?}
     * @private
     */
    ThfPopupBaseComponent.prototype._target;
    /** @type {?} */
    ThfPopupBaseComponent.prototype.arrowDirection;
    /** @type {?} */
    ThfPopupBaseComponent.prototype.showPopup;
    /**
     * @type {?}
     * @protected
     */
    ThfPopupBaseComponent.prototype.oldTarget;
    /**
     * @type {?}
     * @protected
     */
    ThfPopupBaseComponent.prototype.param;
    /**
     * @type {?}
     * @protected
     */
    ThfPopupBaseComponent.prototype.parentRef;
    /**
     * @type {?}
     * @protected
     */
    ThfPopupBaseComponent.prototype.clickoutListener;
    /**
     * @type {?}
     * @protected
     */
    ThfPopupBaseComponent.prototype.resizeListener;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLXBvcHVwLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRvdHZzL3RoZi11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3RoZi1wb3B1cC90aGYtcG9wdXAtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWxELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHNFQUFzRSxDQUFDOztJQUl2Ryx1QkFBdUIsR0FBRyxhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEI3QztJQUFBO1FBSVUsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUM1QixtQkFBYyxHQUFZLEtBQUssQ0FBQztRQUNoQyxjQUFTLEdBQVksdUJBQXVCLENBQUM7UUFHckQsbUJBQWMsR0FBVyxXQUFXLENBQUM7UUFDckMsY0FBUyxHQUFZLEtBQUssQ0FBQztJQThKN0IsQ0FBQztJQXZKQyxzQkFBd0IsMENBQU87Ozs7UUFJL0I7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQztRQVBELHVEQUF1RDs7Ozs7O1FBQ3ZELFVBQWdDLEtBQTRCO1lBQzFELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDcEQsQ0FBQzs7O09BQUE7SUFlRCxzQkFBMkIsNENBQVM7Ozs7UUFJcEM7WUFDRSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDekIsQ0FBQztRQWZEOzs7Ozs7OztXQVFHOzs7Ozs7Ozs7Ozs7UUFDSCxVQUFxQyxLQUFjO1lBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsQ0FBQzs7O09BQUE7SUFPRCxzQkFBZ0MsZ0RBQWE7Ozs7UUFJN0M7WUFDRSxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDN0IsQ0FBQztRQVBELHlFQUF5RTs7Ozs7OztRQUN6RSxVQUE4QyxLQUFjO1lBQzFELElBQUksQ0FBQyxjQUFjLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsQ0FBQzs7O09BQUE7SUFrQ0Qsc0JBQXlCLDJDQUFROzs7O1FBSWpDO1lBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3hCLENBQUM7UUFsQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQTJCRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQUNILFVBQWtDLEtBQWE7WUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsdUJBQXVCLENBQUM7UUFDM0YsQ0FBQzs7O09BQUE7SUErQkQsc0JBQWlDLGtEQUFlOzs7O1FBSWhEO1lBQ0UsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDL0IsQ0FBQztRQS9CRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBd0JHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBQ0gsVUFBaUQsS0FBb0I7WUFDbkUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQzVELENBQUM7OztPQUFBO0lBMkNELHNCQUF1Qix5Q0FBTTs7OztRQUk3QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN0QixDQUFDO1FBM0NEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FvQ0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFDSCxVQUE4QixLQUFVO1lBQ3RDLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFLLFlBQVksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUM3RSxDQUFDOzs7T0FBQTs7MEJBOUlBLEtBQUssU0FBQyxXQUFXOzRCQWlCakIsS0FBSyxTQUFDLGNBQWM7Z0NBU3BCLEtBQUssU0FBQyxtQkFBbUI7MkJBb0N6QixLQUFLLFNBQUMsWUFBWTtrQ0FpQ2xCLEtBQUssU0FBQyxvQkFBb0I7eUJBNkMxQixLQUFLLFNBQUMsVUFBVTs7SUFXbkIsNEJBQUM7Q0FBQSxBQXhLRCxJQXdLQztTQXhLWSxxQkFBcUI7Ozs7OztJQUVoQyx5Q0FBd0M7Ozs7O0lBQ3hDLGlEQUF5Qzs7Ozs7SUFDekMsMkNBQW9DOzs7OztJQUNwQywrQ0FBd0M7Ozs7O0lBQ3hDLDBDQUFxRDs7Ozs7SUFDckQsd0NBQXFCOztJQUVyQiwrQ0FBcUM7O0lBQ3JDLDBDQUEyQjs7Ozs7SUFFM0IsMENBQW9COzs7OztJQUNwQixzQ0FBZ0I7Ozs7O0lBQ2hCLDBDQUFvQjs7Ozs7SUF1SnBCLGlEQUF1Qzs7Ozs7SUFDdkMsK0NBQXFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudFJlZiwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgVEhGX0NPTlRST0xfUE9TSVRJT05TIH0gZnJvbSAnLi8uLi8uLi9zZXJ2aWNlcy90aGYtY29udHJvbC1wb3NpdGlvbi90aGYtY29udHJvbC1wb3NpdGlvbi5jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBUaGZQb3B1cEFjdGlvbiB9IGZyb20gJy4vdGhmLXBvcHVwLWFjdGlvbi5pbnRlcmZhY2UnO1xuXG5jb25zdCB0aGZQb3B1cERlZmF1bHRQb3NpdGlvbiA9ICdib3R0b20tbGVmdCc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBjb21wb25lbnRlIGB0aGYtcG9wdXBgIMOpIHVtIGNvbnRhaW5lciBwZXF1ZW5vIHJlY29tZW5kYWRvIHBhcmEgYcOnw7VlcyBkZSBuYXZlZ2HDp8OjbzpcbiAqIEVsZSBhYnJlIHNvYnJlcG9zdG8gYW9zIG91dHJvcyBjb21wb25lbnRlcy5cbiAqXG4gKiDDiSBwb3Nzw612ZWwgZXNjb2xoZXIgYXMgcG9zacOnw7VlcyBkbyBgdGhmLXBvcHVwYCBlbSByZWxhw6fDo28gYW8gY29tcG9uZW50ZSBhbHZvLCBwYXJhIGlzdG8gdmVqYSBhIHByb3ByaWVkYWRlIGB0LXBvc2l0aW9uYC5cbiAqXG4gKiBUYW1iw6ltIMOpIHBvc3PDrXZlbCBpbmZvcm1hciB1bSBfdGVtcGxhdGVfIF9oZWFkZXJfIHBhcmEgbyBgdGhmLXBvcHVwYCwgcXVlIHNlcsOhIGV4aWJpZG8gYWNpbWEgZGFzIGHDp8O1ZXMuXG4gKiBQYXJhIGZ1bmNpb25hciBjb3JyZXRhbWVudGUgw6kgcHJlY2lzbyBhZGljaW9uYXIgYSBwcm9wcmllZGFkZSBgdC1wb3B1cC1oZWFkZXItdGVtcGxhdGVgIG5vIGVsZW1lbnRvIHF1ZSBzZXJ2aXLDoSBkZSB0ZW1wbGF0ZSwgcG9yIGV4ZW1wbG86XG4gKlxuICogYGBgXG4gKiA8dGhmLXBvcHVwIFt0LXRhcmdldF09XCJ0YXJnZXRcIj5cbiAqICAgPGRpdiB0LXBvcHVwLWhlYWRlci10ZW1wbGF0ZT5cbiAqICAgICA8ZGl2PlxuICogICAgICAgRGV2IFRvdHZzXG4gKiAgICAgPC9kaXY+XG4gKiAgICAgPGRpdj5cbiAqICAgICAgIGRldi50b3R2c0B0b3R2cy5jb20uYnJcbiAqICAgICA8L2Rpdj5cbiAqICAgPC9kaXY+XG4gKiA8L3RoZi1wb3B1cCA+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFRoZlBvcHVwQmFzZUNvbXBvbmVudCB7XG5cbiAgcHJpdmF0ZSBfYWN0aW9uczogQXJyYXk8VGhmUG9wdXBBY3Rpb24+O1xuICBwcml2YXRlIF9jdXN0b21Qb3NpdGlvbnM/OiBBcnJheTxzdHJpbmc+O1xuICBwcml2YXRlIF9oaWRlQXJyb3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaXNDb3JuZXJBbGlnbjogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9wb3NpdGlvbj86IHN0cmluZyA9IHRoZlBvcHVwRGVmYXVsdFBvc2l0aW9uO1xuICBwcml2YXRlIF90YXJnZXQ6IGFueTtcblxuICBhcnJvd0RpcmVjdGlvbjogc3RyaW5nID0gJ3RvcC1yaWdodCc7XG4gIHNob3dQb3B1cDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBvbGRUYXJnZXQ7XG4gIHByb3RlY3RlZCBwYXJhbTtcbiAgcHJvdGVjdGVkIHBhcmVudFJlZjtcblxuICAvKiogTGlzdGEgZGUgYcOnw7VlcyBxdWUgc2Vyw6NvIGV4aWJpZGFzIG5vIGNvbXBvbmVudGUuICovXG4gIEBJbnB1dCgndC1hY3Rpb25zJykgc2V0IGFjdGlvbnModmFsdWU6IEFycmF5PFRoZlBvcHVwQWN0aW9uPikge1xuICAgIHRoaXMuX2FjdGlvbnMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW107XG4gIH1cblxuICBnZXQgYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9jdWx0YSBhIHNldGEgZG8gY29tcG9uZW50ZSAqcG9wdXAqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3QtaGlkZS1hcnJvdycpIHNldCBoaWRlQXJyb3codmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRlQXJyb3cgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBoaWRlQXJyb3coKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVBcnJvdztcbiAgfVxuXG4gIC8vIERlZmluZSBzZSBvIGB0aGYtcG9wdXBgIHNlcsOhIGFsaW5oYWRvIHBlbG9zIGNhbnRvcyBkbyBlbGVtZW50byB0YXJnZXQuXG4gIEBJbnB1dCgndC1pcy1jb3JuZXItYWxpZ24nKSBzZXQgaXNDb3JuZXJBbGlnbih2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2lzQ29ybmVyQWxpZ24gPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBpc0Nvcm5lckFsaWduKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pc0Nvcm5lckFsaWduO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIGEgcG9zacOnw6NvIGluaWNpYWwgcXVlIG8gYHRoZi1wb3B1cGAgYWJyaXLDoSBlbSByZWxhw6fDo28gYW8gY29tcG9uZW50ZSBhbHZvLiBTdWdlcmUtc2UgcXVlIHNlamFcbiAgICogdXNhZGEgYSBvcmllbnRhw6fDo28gYGJvdHRvbS1sZWZ0YCAoYWJhaXhvIGUgYSBlc3F1ZXJkYSksIHBvcsOpbSBvIG1lc21vIMOpIGZsZXjDrXZlbCBlIHNlcsOhIHJvdGFjaW9uYWRvXG4gICAqIGF1dG9tYXRpY2FtZW50ZSBwYXJhIHNlIGFkZXF1YXIgYSB0ZWxhLCBjYXNvIG5lY2Vzc8OhcmlvLlxuICAgKlxuICAgKiA+IENhc28gc2VqYSBkZWZpbmlkbyB1bSBgdC1jdXN0b20tcG9zaXRpb25zYCBvIGNvbXBvbmVudGUgaXLDoSBhYnJpciBuYSBwb3Npw6fDo28gZGVmaW5pZGEgbmEgcHJvcHJpZWRhZGUgYHQtcG9zaXRpb25gXG4gICAqIGUgY2FzbyBuw6NvIGNhaWJhIG5hIHBvc2nDp8OjbyBpbmljaWFsIGVsZSBpcsOhIHJvdGFjaW9uYXIgc2VndWluZG8gYSBvcmRlbSBkZSBwb3Npw6fDtWVzIGRlZmluaWRhcyBubyBgdC1jdXN0b20tcG9zaXRpb25zYC5cbiAgICpcbiAgICogUG9zacOnw7VlcyB2w6FsaWRhczpcbiAgICogLSBgcmlnaHRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtYm90dG9tYDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBpbmZlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHJpZ2h0LXRvcGA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBubyBsYWRvIGRpcmVpdG8gc3VwZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b21gOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWJhaXhvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgYm90dG9tLWxlZnRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWJhaXhvIGUgw6AgZXNxdWVyZGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b20tcmlnaHRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWJhaXhvIGUgw6AgZGlyZWl0YSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtdG9wYDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gc3VwZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBsZWZ0LWJvdHRvbWA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wYDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIGFjaW1hIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLXJpZ2h0YDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIGFjaW1hIGUgw6AgZGlyZWl0YSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYHRvcC1sZWZ0YDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIGFjaW1hIGUgw6AgZXNxdWVyZGEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgYm90dG9tLWxlZnRgXG4gICAqL1xuICBASW5wdXQoJ3QtcG9zaXRpb24nKSBzZXQgcG9zaXRpb24odmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gVEhGX0NPTlRST0xfUE9TSVRJT05TLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogdGhmUG9wdXBEZWZhdWx0UG9zaXRpb247XG4gIH1cblxuICBnZXQgcG9zaXRpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgYXMgcG9zacOnw7VlcyBlIGEgc2VxdcOqbmNpYSBxdWUgbyBgdGhmLXBvcHVwYCBwb2RlcsOhIHJvdGFjaW9uYXIuIEEgc2VxdcOqbmNpYSBzZXLDoSBkZWZpbmlkYSBwZWxhIG9yZGVtIHBhc3NhZGFcbiAgICogbm8gKmFycmF5Ki4gQ2FzbyBuw6NvIHNlamEgZGVmaW5pZG8sIG8gYHRoZi1wb3B1cGAgaXLDoSByb3RhY2lvbmFyIGVtIHRvZGFzIGFzIHBvc2nDp8O1ZXMgdsOhbGlkYXMuXG4gICAqXG4gICAqID4gTyBjb21wb25lbnRlIHNlbXByZSBpcsOhIGFicmlyIG5hIHBvc2nDp8OjbyBkZWZpbmlkYSBubyBgdC1wb3NpdGlvbmAgZSBjYXNvIG7Do28gY2FpYmEgbmEgcG9zacOnw6NvIGRlZmluaWRhIG8gbWVzbW9cbiAgICogaXLDoSByb3RhY2lvbmFyIHNlZ3VpbmRvIGEgb3JkZW0gZGVmaW5pZGEgcGVsbyBgdC1jdXN0b20tcG9zaXRpb25gLlxuICAgKlxuICAgKiBQb3Npw6fDtWVzIHbDoWxpZGFzOlxuICAgKiAtIGByaWdodGA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBubyBsYWRvIGRpcmVpdG8gZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGByaWdodC1ib3R0b21gOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgcmlnaHQtdG9wYDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbWA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBhYmFpeG8gZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGBib3R0b20tbGVmdGA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBhYmFpeG8gZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGJvdHRvbS1yaWdodGA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBhYmFpeG8gZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgbGVmdGA6IFBvc2ljaW9uYSBvIHRoZi1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgbGVmdC10b3BgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqIC0gYGxlZnQtYm90dG9tYDogUG9zaWNpb25hIG8gdGhmLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gaW5mZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGB0b3BgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWNpbWEgZG8gY29tcG9uZW50ZSBhbHZvLlxuICAgKiAtIGB0b3AtcmlnaHRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWNpbWEgZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cbiAgICogLSBgdG9wLWxlZnRgOiBQb3NpY2lvbmEgbyB0aGYtcG9wdXAgYWNpbWEgZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXG4gICAqL1xuICBASW5wdXQoJ3QtY3VzdG9tLXBvc2l0aW9ucycpIHNldCBjdXN0b21Qb3NpdGlvbnModmFsdWU6IEFycmF5PHN0cmluZz4pIHtcbiAgICB0aGlzLl9jdXN0b21Qb3NpdGlvbnMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW107XG4gIH1cblxuICBnZXQgY3VzdG9tUG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXN0b21Qb3NpdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFBhcmEgdXRpbGl6YXIgbyBgdGhmLXBvcHVwYCBkZXZlLXNlIGNvbG9jYXIgdW1hIHZhcmnDoXZlbCBsb2NhbCBubyBjb21wb25lbnRlIHF1ZSBkaXNwYXJhcsOhIG8gZXZlbnRvXG4gICAqIGRlIGFiZXJ0dXJhIG5vIG1lc21vIGUgY29tIGlzc28sIGludm9jYXLDoSBhIGZ1bsOnw6NvIGB0b2dnbGVgLCBwb3IgZXhlbXBsbzpcbiAgICpcbiAgICogYGBgXG4gICAqIDxzcGFuICNpY29uIGNsYXNzPVwidGhmLWljb24gdGhmLWljb24tY3JlZGl0LXBheW1lbnRcIiAoY2xpY2spPVwicG9wdXAudG9nZ2xlKClcIj5cbiAgICogICBDcmVkaXQgQWN0aW9uc1xuICAgKiA8L3NwYW4+XG4gICAqXG4gICAqIDx0aGYtcG9wdXAgI3BvcHVwXG4gICAqICAgW3QtYWN0aW9uc109XCJhY3Rpb25zXCJcbiAgICogICBbdC10YXJnZXRdPVwiaWNvblwiPlxuICAgKiA8L3RoZi1wb3B1cD5cbiAgICogYGBgXG4gICAqXG4gICAqIENhc28gbyBlbGVtZW50byBhbHZvIGZvciB1bSBjb21wb25lbnRlLCBzZXLDoSBwcmVjaXNvIG9idGVyIG8gYEVsZW1lbnRSZWZgIGRvIG1lc21vIGUgcGFzc8OhLWxvIMOgIHByb3ByaWVkYWRlLCBwb3IgZXhlbXBsbzpcbiAgICpcbiAgICogYGBgXG4gICAqIC8vIGNvbXBvbmVudC5odG1sXG4gICAqXG4gICAqIDx0aGYtYnV0dG9uICN0aGZCdXR0b25cbiAgICogICB0LWxhYmVsPVwiT3BlbiBQb3BvdmVyXCJcbiAgICogICAodC1jbGljayk9XCJwb3B1cC50b2dnbGUoKVwiPlxuICAgKiA8L3RoZi1idXR0b24+XG4gICAqXG4gICAqIDx0aGYtcG9wdXAgI3BvcHVwXG4gICAqICAgW3QtYWN0aW9uc109XCJhY3Rpb25zXCJcbiAgICogICBbdC10YXJnZXRdPVwidGhmQnV0dG9uUmVmXCI+XG4gICAqIDwvdGhmLXBvcHVwPlxuICAgKlxuICAgKiAvLyBjb21wb25lbnQudHNcbiAgICpcbiAgICogQFZpZXdDaGlsZCgndGhmQnV0dG9uJywgeyByZWFkOiBFbGVtZW50UmVmIH0pIHRoZkJ1dHRvblJlZjogRWxlbWVudFJlZjtcbiAgICogYGBgXG4gICAqL1xuICBASW5wdXQoJ3QtdGFyZ2V0Jykgc2V0IHRhcmdldCh2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5fdGFyZ2V0ID0gKHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudFJlZikgPyB2YWx1ZS5uYXRpdmVFbGVtZW50IDogdmFsdWU7XG4gIH1cblxuICBnZXQgdGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xpY2tvdXRMaXN0ZW5lcjogKCkgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIHJlc2l6ZUxpc3RlbmVyOiAoKSA9PiB2b2lkO1xuXG59XG4iXX0=