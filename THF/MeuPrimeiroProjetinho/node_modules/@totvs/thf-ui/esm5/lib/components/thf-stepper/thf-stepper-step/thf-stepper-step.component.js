/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { browserLanguage, convertToBoolean, isTypeof, thfLocaleDefault } from './../../../utils/util';
import { ThfStepperOrientation } from '../enums/thf-stepper-orientation.enum';
import { ThfStepperStatus } from '../enums/thf-stepper-status.enum';
/** @type {?} */
var thfStepperStepSizeDefault = 24;
/** @type {?} */
var thfStepperStepSizeMax = 64;
/** @type {?} */
var thfStepLiteralsDefault = {
    en: { label: 'Step' },
    es: { label: 'Paso' },
    pt: { label: 'Passo' }
};
/**
 * \@docsPrivate
 *
 * \@description
 *
 * Componente que representa um *step* contendo as ligações das laterais (`thf-stepper-step-bar`) e a label.
 */
var ThfStepperStepComponent = /** @class */ (function () {
    function ThfStepperStepComponent() {
        this._stepIcons = false;
        this._stepSize = thfStepperStepSizeDefault;
        this.literals = tslib_1.__assign({}, thfStepLiteralsDefault[thfLocaleDefault], thfStepLiteralsDefault[browserLanguage()]);
        // Evento que será emitido quando o status do *step* estiver ativo (`ThfStepperStatus.Active`).
        this.activated = new EventEmitter();
        // Evento que será emitido ao clicar no *step*.
        this.click = new EventEmitter();
        // Evento que será emitido ao focar no *step* e pressionar a tecla *enter*.
        this.enter = new EventEmitter();
    }
    Object.defineProperty(ThfStepperStepComponent.prototype, "label", {
        get: /**
         * @return {?}
         */
        function () {
            return this._label;
        },
        // Label do *step*.
        set: 
        // Label do *step*.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._label = isTypeof(value, 'string') ? value : this.literals.label + " " + this.circleContent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "status", {
        get: /**
         * @return {?}
         */
        function () {
            return this._status;
        },
        // Define o estado de exibição.
        set: 
        // Define o estado de exibição.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._status = ((/** @type {?} */ (value))) ? value : undefined;
            if (this.status === ThfStepperStatus.Active) {
                this.activated.emit();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "stepIcons", {
        get: /**
         * @return {?}
         */
        function () {
            return this._stepIcons;
        },
        set: /**
         * @param {?} stepIcons
         * @return {?}
         */
        function (stepIcons) {
            this._stepIcons = convertToBoolean(stepIcons);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "stepSize", {
        get: /**
         * @return {?}
         */
        function () {
            return this._stepSize;
        },
        // Tamanho do `step` em *pixels*, possibilitando um maior destaque.
        // O valor informado deve ser entre `24` e `64`.
        set: 
        // Tamanho do `step` em *pixels*, possibilitando um maior destaque.
        // O valor informado deve ser entre `24` e `64`.
        /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._stepSize = (value >= thfStepperStepSizeDefault && value <= thfStepperStepSizeMax) ? value : thfStepperStepSizeDefault;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "halfStepSize", {
        get: /**
         * @return {?}
         */
        function () {
            return this.stepSize / 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "isVerticalOrientation", {
        get: /**
         * @return {?}
         */
        function () {
            return this.orientation === ThfStepperOrientation.Vertical;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfStepperStepComponent.prototype, "marginHorizontalBar", {
        get: /**
         * @return {?}
         */
        function () {
            return this.isVerticalOrientation ? undefined : this.halfStepSize;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} status
     * @return {?}
     */
    ThfStepperStepComponent.prototype.getStatusClass = /**
     * @param {?} status
     * @return {?}
     */
    function (status) {
        switch (status) {
            case ThfStepperStatus.Active:
                return 'thf-stepper-step-active';
            case ThfStepperStatus.Disabled:
                return 'thf-stepper-step-disabled';
            case ThfStepperStatus.Done:
                return 'thf-stepper-step-done';
            case ThfStepperStatus.Error:
                return 'thf-stepper-step-error';
            default:
                return 'thf-stepper-step-default';
        }
    };
    /**
     * @return {?}
     */
    ThfStepperStepComponent.prototype.onClick = /**
     * @return {?}
     */
    function () {
        if (this.status !== ThfStepperStatus.Disabled) {
            this.click.emit();
        }
    };
    /**
     * @return {?}
     */
    ThfStepperStepComponent.prototype.onEnter = /**
     * @return {?}
     */
    function () {
        if (this.status !== ThfStepperStatus.Disabled) {
            this.enter.emit();
        }
    };
    ThfStepperStepComponent.decorators = [
        { type: Component, args: [{
                    selector: 'thf-stepper-step',
                    template: "<div class=\"thf-stepper-step\"\n  [ngClass]=\"getStatusClass(status)\"\n  (click)=\"onClick()\"\n  (keydown.enter)=\"onEnter()\">\n\n  <div class=\"thf-stepper-step-container\" [style.width.px]=\"isVerticalOrientation ? stepSize : undefined\">\n\n    <div\n      [class.thf-stepper-step-bar-top]=\"isVerticalOrientation\"\n      [class.thf-stepper-step-bar-left]=\"!isVerticalOrientation\"\n      [style.margin-right.px]=\"marginHorizontalBar\">\n    </div>\n\n    <thf-stepper-circle\n      [t-content]=\"circleContent\"\n      [t-icons]=\"stepIcons\"\n      [t-size]=\"stepSize\"\n      [t-status]=\"status\">\n    </thf-stepper-circle>\n\n    <div\n      [class.thf-stepper-step-bar-bottom]=\"isVerticalOrientation\"\n      [class.thf-stepper-step-bar-right]=\"!isVerticalOrientation\"\n      [style.margin-left.px]=\"marginHorizontalBar\">\n    </div>\n\n  </div>\n\n  <thf-stepper-label\n    class=\"thf-stepper-step-label-position\"\n    [t-content]=\"label\">\n  </thf-stepper-label>\n</div>\n"
                }] }
    ];
    ThfStepperStepComponent.propDecorators = {
        circleContent: [{ type: Input, args: ['t-circle-content',] }],
        label: [{ type: Input, args: ['t-label',] }],
        orientation: [{ type: Input, args: ['t-orientation',] }],
        status: [{ type: Input, args: ['t-status',] }],
        stepIcons: [{ type: Input, args: ['t-step-icons',] }],
        stepSize: [{ type: Input, args: ['t-step-size',] }],
        activated: [{ type: Output, args: ['t-activated',] }],
        click: [{ type: Output, args: ['t-click',] }],
        enter: [{ type: Output, args: ['t-enter',] }]
    };
    return ThfStepperStepComponent;
}());
export { ThfStepperStepComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    ThfStepperStepComponent.prototype._label;
    /**
     * @type {?}
     * @private
     */
    ThfStepperStepComponent.prototype._status;
    /**
     * @type {?}
     * @private
     */
    ThfStepperStepComponent.prototype._stepIcons;
    /**
     * @type {?}
     * @private
     */
    ThfStepperStepComponent.prototype._stepSize;
    /** @type {?} */
    ThfStepperStepComponent.prototype.literals;
    /** @type {?} */
    ThfStepperStepComponent.prototype.circleContent;
    /** @type {?} */
    ThfStepperStepComponent.prototype.orientation;
    /** @type {?} */
    ThfStepperStepComponent.prototype.activated;
    /** @type {?} */
    ThfStepperStepComponent.prototype.click;
    /** @type {?} */
    ThfStepperStepComponent.prototype.enter;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLXN0ZXBwZXItc3RlcC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdG90dnMvdGhmLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGhmLXN0ZXBwZXIvdGhmLXN0ZXBwZXItc3RlcC90aGYtc3RlcHBlci1zdGVwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUV0RyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM5RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7SUFFOUQseUJBQXlCLEdBQUcsRUFBRTs7SUFDOUIscUJBQXFCLEdBQUcsRUFBRTs7SUFDMUIsc0JBQXNCLEdBQUc7SUFDN0IsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNyQixFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ3JCLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUU7Q0FDdkI7Ozs7Ozs7O0FBU0Q7SUFBQTtRQVFVLGVBQVUsR0FBYSxLQUFLLENBQUM7UUFDN0IsY0FBUyxHQUFXLHlCQUF5QixDQUFDO1FBRTdDLGFBQVEsd0JBQ1osc0JBQXNCLENBQUMsZ0JBQWdCLENBQUMsRUFDeEMsc0JBQXNCLENBQUMsZUFBZSxFQUFFLENBQUMsRUFDNUM7O1FBaURxQixjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQzs7UUFHeEMsVUFBSyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7O1FBR2hDLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO0lB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QUFLLGdCQUFnQixDQUFDLFFBQVEsRUFBRTtZQUM3QyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ25CO0lBQ0gsQ0FBQzs7Z0JBNUdGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsa0JBQWtCO29CQUM1QixxL0JBQThDO2lCQUMvQzs7O2dDQWNFLEtBQUssU0FBQyxrQkFBa0I7d0JBR3hCLEtBQUssU0FBQyxTQUFTOzhCQVNmLEtBQUssU0FBQyxlQUFlO3lCQUdyQixLQUFLLFNBQUMsVUFBVTs0QkFZaEIsS0FBSyxTQUFDLGNBQWM7MkJBVXBCLEtBQUssU0FBQyxhQUFhOzRCQVNuQixNQUFNLFNBQUMsYUFBYTt3QkFHcEIsTUFBTSxTQUFDLFNBQVM7d0JBR2hCLE1BQU0sU0FBQyxTQUFTOztJQXlDbkIsOEJBQUM7Q0FBQSxBQTlHRCxJQThHQztTQTFHWSx1QkFBdUI7Ozs7OztJQUVsQyx5Q0FBdUI7Ozs7O0lBQ3ZCLDBDQUFrQzs7Ozs7SUFDbEMsNkNBQXFDOzs7OztJQUNyQyw0Q0FBc0Q7O0lBRXRELDJDQUdFOztJQUdGLGdEQUE4Qzs7SUFZOUMsOENBQTJEOztJQWtDM0QsNENBQTJEOztJQUczRCx3Q0FBbUQ7O0lBR25ELHdDQUFtRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGJyb3dzZXJMYW5ndWFnZSwgY29udmVydFRvQm9vbGVhbiwgaXNUeXBlb2YsIHRoZkxvY2FsZURlZmF1bHQgfSBmcm9tICcuLy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBUaGZTdGVwcGVyT3JpZW50YXRpb24gfSBmcm9tICcuLi9lbnVtcy90aGYtc3RlcHBlci1vcmllbnRhdGlvbi5lbnVtJztcbmltcG9ydCB7IFRoZlN0ZXBwZXJTdGF0dXMgfSBmcm9tICcuLi9lbnVtcy90aGYtc3RlcHBlci1zdGF0dXMuZW51bSc7XG5cbmNvbnN0IHRoZlN0ZXBwZXJTdGVwU2l6ZURlZmF1bHQgPSAyNDtcbmNvbnN0IHRoZlN0ZXBwZXJTdGVwU2l6ZU1heCA9IDY0O1xuY29uc3QgdGhmU3RlcExpdGVyYWxzRGVmYXVsdCA9IHtcbiAgZW46IHsgbGFiZWw6ICdTdGVwJyB9LFxuICBlczogeyBsYWJlbDogJ1Bhc28nIH0sXG4gIHB0OiB7IGxhYmVsOiAnUGFzc28nIH1cbn07XG5cbi8qKlxuICogQGRvY3NQcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29tcG9uZW50ZSBxdWUgcmVwcmVzZW50YSB1bSAqc3RlcCogY29udGVuZG8gYXMgbGlnYcOnw7VlcyBkYXMgbGF0ZXJhaXMgKGB0aGYtc3RlcHBlci1zdGVwLWJhcmApIGUgYSBsYWJlbC5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGhmLXN0ZXBwZXItc3RlcCcsXG4gIHRlbXBsYXRlVXJsOiAndGhmLXN0ZXBwZXItc3RlcC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgVGhmU3RlcHBlclN0ZXBDb21wb25lbnQge1xuXG4gIHByaXZhdGUgX2xhYmVsOiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0YXR1czogVGhmU3RlcHBlclN0YXR1cztcbiAgcHJpdmF0ZSBfc3RlcEljb25zPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9zdGVwU2l6ZTogbnVtYmVyID0gdGhmU3RlcHBlclN0ZXBTaXplRGVmYXVsdDtcblxuICByZWFkb25seSBsaXRlcmFscyA9IHtcbiAgICAuLi50aGZTdGVwTGl0ZXJhbHNEZWZhdWx0W3RoZkxvY2FsZURlZmF1bHRdLFxuICAgIC4uLnRoZlN0ZXBMaXRlcmFsc0RlZmF1bHRbYnJvd3Nlckxhbmd1YWdlKCldXG4gIH07XG5cbiAgLy8gQ29udGXDumRvIHF1ZSBzZXLDoSByZXBhc3NhZG8gcGFyYSBvIGNvbXBvbmVudGUgYHQtY2lyY2xlLWNvbnRlbnRgIGF0cmF2w6lzIGRhIHByb3ByaWVkYWRlIGB0LWNvbnRlbnRgLlxuICBASW5wdXQoJ3QtY2lyY2xlLWNvbnRlbnQnKSBjaXJjbGVDb250ZW50OiBhbnk7XG5cbiAgLy8gTGFiZWwgZG8gKnN0ZXAqLlxuICBASW5wdXQoJ3QtbGFiZWwnKSBzZXQgbGFiZWwodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2xhYmVsID0gaXNUeXBlb2YodmFsdWUsICdzdHJpbmcnKSA/IHZhbHVlIDogYCR7dGhpcy5saXRlcmFscy5sYWJlbH0gJHt0aGlzLmNpcmNsZUNvbnRlbnR9YDtcbiAgfVxuXG4gIGdldCBsYWJlbCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9sYWJlbDtcbiAgfVxuXG4gIC8vIERlZmluZSBhIG9yaWVudGHDp8OjbyBkZSBleGliacOnw6NvLlxuICBASW5wdXQoJ3Qtb3JpZW50YXRpb24nKSBvcmllbnRhdGlvbjogVGhmU3RlcHBlck9yaWVudGF0aW9uO1xuXG4gIC8vIERlZmluZSBvIGVzdGFkbyBkZSBleGliacOnw6NvLlxuICBASW5wdXQoJ3Qtc3RhdHVzJykgc2V0IHN0YXR1cyh2YWx1ZTogVGhmU3RlcHBlclN0YXR1cykge1xuICAgIHRoaXMuX3N0YXR1cyA9ICh2YWx1ZSBhcyBzdHJpbmcpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IFRoZlN0ZXBwZXJTdGF0dXMuQWN0aXZlKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlZC5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHN0YXR1cygpOiBUaGZTdGVwcGVyU3RhdHVzIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICB9XG5cbiAgQElucHV0KCd0LXN0ZXAtaWNvbnMnKSBzZXQgc3RlcEljb25zKHN0ZXBJY29uczogYm9vbGVhbikge1xuICAgIHRoaXMuX3N0ZXBJY29ucyA9IGNvbnZlcnRUb0Jvb2xlYW4oc3RlcEljb25zKTtcbiAgfVxuXG4gIGdldCBzdGVwSWNvbnMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3N0ZXBJY29ucztcbiAgfVxuXG4gIC8vIFRhbWFuaG8gZG8gYHN0ZXBgIGVtICpwaXhlbHMqLCBwb3NzaWJpbGl0YW5kbyB1bSBtYWlvciBkZXN0YXF1ZS5cbiAgLy8gTyB2YWxvciBpbmZvcm1hZG8gZGV2ZSBzZXIgZW50cmUgYDI0YCBlIGA2NGAuXG4gIEBJbnB1dCgndC1zdGVwLXNpemUnKSBzZXQgc3RlcFNpemUodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuX3N0ZXBTaXplID0gKHZhbHVlID49IHRoZlN0ZXBwZXJTdGVwU2l6ZURlZmF1bHQgJiYgdmFsdWUgPD0gdGhmU3RlcHBlclN0ZXBTaXplTWF4KSA/IHZhbHVlIDogdGhmU3RlcHBlclN0ZXBTaXplRGVmYXVsdDtcbiAgfVxuXG4gIGdldCBzdGVwU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9zdGVwU2l6ZTtcbiAgfVxuXG4gIC8vIEV2ZW50byBxdWUgc2Vyw6EgZW1pdGlkbyBxdWFuZG8gbyBzdGF0dXMgZG8gKnN0ZXAqIGVzdGl2ZXIgYXRpdm8gKGBUaGZTdGVwcGVyU3RhdHVzLkFjdGl2ZWApLlxuICBAT3V0cHV0KCd0LWFjdGl2YXRlZCcpIGFjdGl2YXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIC8vIEV2ZW50byBxdWUgc2Vyw6EgZW1pdGlkbyBhbyBjbGljYXIgbm8gKnN0ZXAqLlxuICBAT3V0cHV0KCd0LWNsaWNrJykgY2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gYW8gZm9jYXIgbm8gKnN0ZXAqIGUgcHJlc3Npb25hciBhIHRlY2xhICplbnRlciouXG4gIEBPdXRwdXQoJ3QtZW50ZXInKSBlbnRlciA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIGdldCBoYWxmU3RlcFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwU2l6ZSAvIDI7XG4gIH1cblxuICBnZXQgaXNWZXJ0aWNhbE9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBUaGZTdGVwcGVyT3JpZW50YXRpb24uVmVydGljYWw7XG4gIH1cblxuICBnZXQgbWFyZ2luSG9yaXpvbnRhbEJhcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmlzVmVydGljYWxPcmllbnRhdGlvbiA/IHVuZGVmaW5lZCA6IHRoaXMuaGFsZlN0ZXBTaXplO1xuICB9XG5cbiAgZ2V0U3RhdHVzQ2xhc3Moc3RhdHVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlIFRoZlN0ZXBwZXJTdGF0dXMuQWN0aXZlOlxuICAgICAgICByZXR1cm4gJ3RoZi1zdGVwcGVyLXN0ZXAtYWN0aXZlJztcbiAgICAgIGNhc2UgVGhmU3RlcHBlclN0YXR1cy5EaXNhYmxlZDpcbiAgICAgICAgcmV0dXJuICd0aGYtc3RlcHBlci1zdGVwLWRpc2FibGVkJztcbiAgICAgIGNhc2UgVGhmU3RlcHBlclN0YXR1cy5Eb25lOlxuICAgICAgICByZXR1cm4gJ3RoZi1zdGVwcGVyLXN0ZXAtZG9uZSc7XG4gICAgICBjYXNlIFRoZlN0ZXBwZXJTdGF0dXMuRXJyb3I6XG4gICAgICAgIHJldHVybiAndGhmLXN0ZXBwZXItc3RlcC1lcnJvcic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3RoZi1zdGVwcGVyLXN0ZXAtZGVmYXVsdCc7XG4gICAgfVxuICB9XG5cbiAgb25DbGljaygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09IFRoZlN0ZXBwZXJTdGF0dXMuRGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuY2xpY2suZW1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIG9uRW50ZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBUaGZTdGVwcGVyU3RhdHVzLkRpc2FibGVkKSB7XG4gICAgICB0aGlzLmVudGVyLmVtaXQoKTtcbiAgICB9XG4gIH1cblxufVxuIl19