/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ThfToasterOrientation } from './thf-toaster/thf-toaster-orientation.enum';
import { ThfToasterType } from './thf-toaster/thf-toaster-type.enum';
/**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "ThfNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos, após este tempo a mesma é removida automaticamente.
 * @abstract
 */
var /**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "ThfNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos, após este tempo a mesma é removida automaticamente.
 * @abstract
 */
ThfNotificationBaseService = /** @class */ (function () {
    function ThfNotificationBaseService() {
        // Array responsável por guardar a instância de thf-toaster's superiores.
        this.stackTop = [];
        // Array responsável por guardar a instância de thf-toaster's inferiores.
        this.stackBottom = [];
        // Duração do toaster ativo.
        this.durationToaster = 10000;
    }
    /**
     * Emite uma notificação de sucesso.
     *
     * @param notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     */
    /**
     * Emite uma notificação de sucesso.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     * @return {?}
     */
    ThfNotificationBaseService.prototype.success = /**
     * Emite uma notificação de sucesso.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação.
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, ThfToasterType.Success));
    };
    /**
     * Emite uma notificação de atenção.
     *
     * @param notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de atenção.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    ThfNotificationBaseService.prototype.warning = /**
     * Emite uma notificação de atenção.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, ThfToasterType.Warning));
    };
    /**
     * Emite uma notificação de erro.
     *
     * @param notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de erro.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    ThfNotificationBaseService.prototype.error = /**
     * Emite uma notificação de erro.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, ThfToasterType.Error));
    };
    /**
     * Emite uma notificação de informação.
     *
     * @param notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     */
    /**
     * Emite uma notificação de informação.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    ThfNotificationBaseService.prototype.information = /**
     * Emite uma notificação de informação.
     *
     * @param {?} notification {ThfNotification | string} Objeto com os dados da notificação ou somente a string com a mensagem da notificação
     * @return {?}
     */
    function (notification) {
        this.createToaster(this.buildToaster(notification, ThfToasterType.Information));
    };
    /**
     * @docsPrivate
     *
     * Cria um objeto do tipo ThfToaster de acordo o tipo.
     *
     * @param notification {ThfNotification | string} Objeto ThfNotification com os dados da notificação
     */
    /**
     * \@docsPrivate
     *
     * Cria um objeto do tipo ThfToaster de acordo o tipo.
     *
     * @private
     * @param {?} notification {ThfNotification | string} Objeto ThfNotification com os dados da notificação
     * @param {?} type
     * @return {?}
     */
    ThfNotificationBaseService.prototype.buildToaster = /**
     * \@docsPrivate
     *
     * Cria um objeto do tipo ThfToaster de acordo o tipo.
     *
     * @private
     * @param {?} notification {ThfNotification | string} Objeto ThfNotification com os dados da notificação
     * @param {?} type
     * @return {?}
     */
    function (notification, type) {
        var _this = this;
        /** @type {?} */
        var index = 0;
        /** @type {?} */
        var orientation;
        if (((/** @type {?} */ (notification))).orientation === undefined ||
            ((/** @type {?} */ (notification))).orientation === ThfToasterOrientation.Bottom) {
            index = this.stackBottom.length;
            orientation = ThfToasterOrientation.Bottom;
        }
        else {
            index = this.stackTop.length;
            orientation = ThfToasterOrientation.Top;
        }
        /** @type {?} */
        var toaster = {
            componentRef: undefined,
            message: ((/** @type {?} */ (notification))).message || (/** @type {?} */ (notification)),
            type: type,
            orientation: orientation,
            action: ((/** @type {?} */ (notification))).action,
            actionLabel: ((/** @type {?} */ (notification))).actionLabel,
            position: index
        };
        if (((/** @type {?} */ (notification))).action) {
            toaster.action = (/**
             * @param {?} param
             * @return {?}
             */
            function (param) {
                ((/** @type {?} */ (notification))).action();
                _this.destroyToaster(param.componentRef);
            });
        }
        return toaster;
    };
    return ThfNotificationBaseService;
}());
/**
 * \@description
 *
 * Serviço responsável por emitir as notificações em uma página. São disponibilizados os métodos de:
 *
 * - success,
 * - warning,
 * - error,
 * - information.
 *
 * Cada um destes métodos recebe como parâmetro o objeto "ThfNotification" que contém os dados da mensagem e o
 * objeto ViewContainerRef que é a representação do container do componente onde será criada a notificação.
 *
 * Estas notificações serão exibidas durante 10 segundos, após este tempo a mesma é removida automaticamente.
 * @abstract
 */
export { ThfNotificationBaseService };
if (false) {
    /** @type {?} */
    ThfNotificationBaseService.prototype.stackTop;
    /** @type {?} */
    ThfNotificationBaseService.prototype.stackBottom;
    /**
     * @type {?}
     * @protected
     */
    ThfNotificationBaseService.prototype.durationToaster;
    /**
     * \@docsPrivate
     *
     * Método responsável por criar o thf-toaster.
     *
     * @abstract
     * @param {?} toaster {ThfToaster} Objeto contendo as informações do toaster.
     * @return {?}
     */
    ThfNotificationBaseService.prototype.createToaster = function (toaster) { };
    /**
     * \@docsPrivate
     *
     * Método responsável por destruir o thf-toaster.
     *
     * @abstract
     * @param {?} toaster {ComponentRef} Número da posição ou instancia do toaster a ser destruído.
     * @return {?}
     */
    ThfNotificationBaseService.prototype.destroyToaster = function (toaster) { };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLW5vdGlmaWNhdGlvbi1iYXNlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdG90dnMvdGhmLXVpLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL3RoZi1ub3RpZmljYXRpb24vdGhmLW5vdGlmaWNhdGlvbi1iYXNlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUlBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQ25GLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQnJFOzs7Ozs7Ozs7Ozs7Ozs7OztJQUFBOztRQUdFLGFBQVEsR0FBNkIsRUFBRSxDQUFDOztRQUd4QyxnQkFBVyxHQUE2QixFQUFFLENBQUM7O1FBR2pDLG9CQUFlLEdBQUcsS0FBSyxDQUFDO0lBaUdwQyxDQUFDO0lBL0ZDOzs7O09BSUc7Ozs7Ozs7SUFDSSw0Q0FBTzs7Ozs7O0lBQWQsVUFBZSxZQUFzQztRQUNuRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFRDs7OztPQUlHOzs7Ozs7O0lBQ0ksNENBQU87Ozs7OztJQUFkLFVBQWUsWUFBc0M7UUFDbkQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRUQ7Ozs7T0FJRzs7Ozs7OztJQUNJLDBDQUFLOzs7Ozs7SUFBWixVQUFhLFlBQXNDO1FBQ2pELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDNUUsQ0FBQztJQUVEOzs7O09BSUc7Ozs7Ozs7SUFDSSxnREFBVzs7Ozs7O0lBQWxCLFVBQW1CLFlBQXNDO1FBQ3ZELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVEOzs7Ozs7T0FNRzs7Ozs7Ozs7Ozs7SUFDSyxpREFBWTs7Ozs7Ozs7OztJQUFwQixVQUFxQixZQUFzQyxFQUFFLElBQW9CO1FBQWpGLGlCQStCQzs7WUE5QkssS0FBSyxHQUFHLENBQUM7O1lBQ1QsV0FBVztRQUVmLElBQUksQ0FBQyxtQkFBaUIsWUFBWSxFQUFBLENBQUMsQ0FBQyxXQUFXLEtBQUssU0FBUztZQUN6RCxDQUFDLG1CQUFpQixZQUFZLEVBQUEsQ0FBQyxDQUFDLFdBQVcsS0FBSyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUU7WUFDaEYsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDO1lBQ2hDLFdBQVcsR0FBRyxxQkFBcUIsQ0FBQyxNQUFNLENBQUM7U0FDNUM7YUFBTTtZQUNMLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztZQUM3QixXQUFXLEdBQUcscUJBQXFCLENBQUMsR0FBRyxDQUFDO1NBQ3pDOztZQUVLLE9BQU8sR0FBZTtZQUMxQixZQUFZLEVBQUUsU0FBUztZQUN2QixPQUFPLEVBQUUsQ0FBQyxtQkFBaUIsWUFBWSxFQUFBLENBQUMsQ0FBQyxPQUFPLElBQUksbUJBQVEsWUFBWSxFQUFBO1lBQ3hFLElBQUksRUFBRSxJQUFJO1lBQ1YsV0FBVyxFQUFFLFdBQVc7WUFDeEIsTUFBTSxFQUFFLENBQUMsbUJBQWlCLFlBQVksRUFBQSxDQUFDLENBQUMsTUFBTTtZQUM5QyxXQUFXLEVBQUUsQ0FBQyxtQkFBaUIsWUFBWSxFQUFBLENBQUMsQ0FBQyxXQUFXO1lBQ3hELFFBQVEsRUFBRSxLQUFLO1NBQ2hCO1FBRUQsSUFBSSxDQUFDLG1CQUFpQixZQUFZLEVBQUEsQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUMxQyxPQUFPLENBQUMsTUFBTTs7OztZQUFHLFVBQUMsS0FBVTtnQkFDMUIsQ0FBQyxtQkFBaUIsWUFBWSxFQUFBLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDekMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDMUMsQ0FBQyxDQUFBLENBQUM7U0FDSDtRQUVELE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFxQkgsaUNBQUM7QUFBRCxDQUFDLEFBMUdELElBMEdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXZHQyw4Q0FBd0M7O0lBR3hDLGlEQUEyQzs7Ozs7SUFHM0MscURBQWtDOzs7Ozs7Ozs7O0lBcUZsQyw0RUFBa0Q7Ozs7Ozs7Ozs7SUFVbEQsNkVBQTBEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFRoZk5vdGlmaWNhdGlvbiB9IGZyb20gJy4vdGhmLW5vdGlmaWNhdGlvbi5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgVGhmVG9hc3RlciB9IGZyb20gJy4vdGhmLXRvYXN0ZXIvdGhmLXRvYXN0ZXIuaW50ZXJmYWNlJztcbmltcG9ydCB7IFRoZlRvYXN0ZXJPcmllbnRhdGlvbiB9IGZyb20gJy4vdGhmLXRvYXN0ZXIvdGhmLXRvYXN0ZXItb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBUaGZUb2FzdGVyVHlwZSB9IGZyb20gJy4vdGhmLXRvYXN0ZXIvdGhmLXRvYXN0ZXItdHlwZS5lbnVtJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXJ2acOnbyByZXNwb25zw6F2ZWwgcG9yIGVtaXRpciBhcyBub3RpZmljYcOnw7VlcyBlbSB1bWEgcMOhZ2luYS4gU8OjbyBkaXNwb25pYmlsaXphZG9zIG9zIG3DqXRvZG9zIGRlOlxuICpcbiAqIC0gc3VjY2VzcyxcbiAqIC0gd2FybmluZyxcbiAqIC0gZXJyb3IsXG4gKiAtIGluZm9ybWF0aW9uLlxuICpcbiAqIENhZGEgdW0gZGVzdGVzIG3DqXRvZG9zIHJlY2ViZSBjb21vIHBhcsOibWV0cm8gbyBvYmpldG8gXCJUaGZOb3RpZmljYXRpb25cIiBxdWUgY29udMOpbSBvcyBkYWRvcyBkYSBtZW5zYWdlbSBlIG9cbiAqIG9iamV0byBWaWV3Q29udGFpbmVyUmVmIHF1ZSDDqSBhIHJlcHJlc2VudGHDp8OjbyBkbyBjb250YWluZXIgZG8gY29tcG9uZW50ZSBvbmRlIHNlcsOhIGNyaWFkYSBhIG5vdGlmaWNhw6fDo28uXG4gKlxuICogRXN0YXMgbm90aWZpY2HDp8O1ZXMgc2Vyw6NvIGV4aWJpZGFzIGR1cmFudGUgMTAgc2VndW5kb3MsIGFww7NzIGVzdGUgdGVtcG8gYSBtZXNtYSDDqSByZW1vdmlkYSBhdXRvbWF0aWNhbWVudGUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUaGZOb3RpZmljYXRpb25CYXNlU2VydmljZSB7XG5cbiAgIC8vIEFycmF5IHJlc3BvbnPDoXZlbCBwb3IgZ3VhcmRhciBhIGluc3TDom5jaWEgZGUgdGhmLXRvYXN0ZXIncyBzdXBlcmlvcmVzLlxuICBzdGFja1RvcDogQXJyYXk8Q29tcG9uZW50UmVmPGFueT4+ID0gW107XG5cbiAgLy8gQXJyYXkgcmVzcG9uc8OhdmVsIHBvciBndWFyZGFyIGEgaW5zdMOibmNpYSBkZSB0aGYtdG9hc3RlcidzIGluZmVyaW9yZXMuXG4gIHN0YWNrQm90dG9tOiBBcnJheTxDb21wb25lbnRSZWY8YW55Pj4gPSBbXTtcblxuICAvLyBEdXJhw6fDo28gZG8gdG9hc3RlciBhdGl2by5cbiAgcHJvdGVjdGVkIGR1cmF0aW9uVG9hc3RlciA9IDEwMDAwO1xuXG4gIC8qKlxuICAgKiBFbWl0ZSB1bWEgbm90aWZpY2HDp8OjbyBkZSBzdWNlc3NvLlxuICAgKlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uIHtUaGZOb3RpZmljYXRpb24gfCBzdHJpbmd9IE9iamV0byBjb20gb3MgZGFkb3MgZGEgbm90aWZpY2HDp8OjbyBvdSBzb21lbnRlIGEgc3RyaW5nIGNvbSBhIG1lbnNhZ2VtIGRhIG5vdGlmaWNhw6fDo28uXG4gICAqL1xuICBwdWJsaWMgc3VjY2Vzcyhub3RpZmljYXRpb246IFRoZk5vdGlmaWNhdGlvbiB8IHN0cmluZykge1xuICAgIHRoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcihub3RpZmljYXRpb24sIFRoZlRvYXN0ZXJUeXBlLlN1Y2Nlc3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0ZSB1bWEgbm90aWZpY2HDp8OjbyBkZSBhdGVuw6fDo28uXG4gICAqXG4gICAqIEBwYXJhbSBub3RpZmljYXRpb24ge1RoZk5vdGlmaWNhdGlvbiB8IHN0cmluZ30gT2JqZXRvIGNvbSBvcyBkYWRvcyBkYSBub3RpZmljYcOnw6NvIG91IHNvbWVudGUgYSBzdHJpbmcgY29tIGEgbWVuc2FnZW0gZGEgbm90aWZpY2HDp8Ojb1xuICAgKi9cbiAgcHVibGljIHdhcm5pbmcobm90aWZpY2F0aW9uOiBUaGZOb3RpZmljYXRpb24gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIobm90aWZpY2F0aW9uLCBUaGZUb2FzdGVyVHlwZS5XYXJuaW5nKSk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdGUgdW1hIG5vdGlmaWNhw6fDo28gZGUgZXJyby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7VGhmTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo28gb3Ugc29tZW50ZSBhIHN0cmluZyBjb20gYSBtZW5zYWdlbSBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwdWJsaWMgZXJyb3Iobm90aWZpY2F0aW9uOiBUaGZOb3RpZmljYXRpb24gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIobm90aWZpY2F0aW9uLCBUaGZUb2FzdGVyVHlwZS5FcnJvcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRlIHVtYSBub3RpZmljYcOnw6NvIGRlIGluZm9ybWHDp8Ojby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7VGhmTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gY29tIG9zIGRhZG9zIGRhIG5vdGlmaWNhw6fDo28gb3Ugc29tZW50ZSBhIHN0cmluZyBjb20gYSBtZW5zYWdlbSBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwdWJsaWMgaW5mb3JtYXRpb24obm90aWZpY2F0aW9uOiBUaGZOb3RpZmljYXRpb24gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIobm90aWZpY2F0aW9uLCBUaGZUb2FzdGVyVHlwZS5JbmZvcm1hdGlvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkb2NzUHJpdmF0ZVxuICAgKlxuICAgKiBDcmlhIHVtIG9iamV0byBkbyB0aXBvIFRoZlRvYXN0ZXIgZGUgYWNvcmRvIG8gdGlwby5cbiAgICpcbiAgICogQHBhcmFtIG5vdGlmaWNhdGlvbiB7VGhmTm90aWZpY2F0aW9uIHwgc3RyaW5nfSBPYmpldG8gVGhmTm90aWZpY2F0aW9uIGNvbSBvcyBkYWRvcyBkYSBub3RpZmljYcOnw6NvXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkVG9hc3Rlcihub3RpZmljYXRpb246IFRoZk5vdGlmaWNhdGlvbiB8IHN0cmluZywgdHlwZTogVGhmVG9hc3RlclR5cGUpOiBUaGZUb2FzdGVyIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBvcmllbnRhdGlvbjtcblxuICAgIGlmICgoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLm9yaWVudGF0aW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKDxUaGZOb3RpZmljYXRpb24+bm90aWZpY2F0aW9uKS5vcmllbnRhdGlvbiA9PT0gVGhmVG9hc3Rlck9yaWVudGF0aW9uLkJvdHRvbSkge1xuICAgICAgaW5kZXggPSB0aGlzLnN0YWNrQm90dG9tLmxlbmd0aDtcbiAgICAgIG9yaWVudGF0aW9uID0gVGhmVG9hc3Rlck9yaWVudGF0aW9uLkJvdHRvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSB0aGlzLnN0YWNrVG9wLmxlbmd0aDtcbiAgICAgIG9yaWVudGF0aW9uID0gVGhmVG9hc3Rlck9yaWVudGF0aW9uLlRvcDtcbiAgICB9XG5cbiAgICBjb25zdCB0b2FzdGVyOiBUaGZUb2FzdGVyID0ge1xuICAgICAgY29tcG9uZW50UmVmOiB1bmRlZmluZWQsXG4gICAgICBtZXNzYWdlOiAoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLm1lc3NhZ2UgfHwgPHN0cmluZz5ub3RpZmljYXRpb24sXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgYWN0aW9uOiAoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbixcbiAgICAgIGFjdGlvbkxhYmVsOiAoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbkxhYmVsLFxuICAgICAgcG9zaXRpb246IGluZGV4XG4gICAgfTtcblxuICAgIGlmICgoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbikge1xuICAgICAgdG9hc3Rlci5hY3Rpb24gPSAocGFyYW06IGFueSkgPT4ge1xuICAgICAgICAoPFRoZk5vdGlmaWNhdGlvbj5ub3RpZmljYXRpb24pLmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lUb2FzdGVyKHBhcmFtLmNvbXBvbmVudFJlZik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB0b2FzdGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkb2NzUHJpdmF0ZVxuICAgKlxuICAgKiBNw6l0b2RvIHJlc3BvbnPDoXZlbCBwb3IgY3JpYXIgbyB0aGYtdG9hc3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHRvYXN0ZXIge1RoZlRvYXN0ZXJ9IE9iamV0byBjb250ZW5kbyBhcyBpbmZvcm1hw6fDtWVzIGRvIHRvYXN0ZXIuXG4gICAqL1xuICBhYnN0cmFjdCBjcmVhdGVUb2FzdGVyKHRvYXN0ZXI6IFRoZlRvYXN0ZXIpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAZG9jc1ByaXZhdGVcbiAgICpcbiAgICogTcOpdG9kbyByZXNwb25zw6F2ZWwgcG9yIGRlc3RydWlyIG8gdGhmLXRvYXN0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0b2FzdGVyIHtDb21wb25lbnRSZWZ9IE7Dum1lcm8gZGEgcG9zacOnw6NvIG91IGluc3RhbmNpYSBkbyB0b2FzdGVyIGEgc2VyIGRlc3RydcOtZG8uXG4gICAqIEBwYXJhbSBvcmllbnRhdGlvbiB7VGhmVG9hc3Rlck9yaWVudGF0aW9ufSBPcmllbnRhw6fDo28gZG8gVGhmVG9hc3RlcjogVG9wIG91IEJvdHRvbVxuICAgKi9cbiAgYWJzdHJhY3QgZGVzdHJveVRvYXN0ZXIodG9hc3RlcjogQ29tcG9uZW50UmVmPGFueT4pOiB2b2lkO1xuXG59XG4iXX0=