/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Input } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
var ThfPageDynamicListBaseComponent = /** @class */ (function () {
    function ThfPageDynamicListBaseComponent() {
        this._autoRouter = false;
        this._columns = [];
        this._duplicates = [];
        this._fields = [];
        this._filters = [];
        this._keys = [];
        /**
         * Objeto com propriedades do breadcrumb.
         */
        this.breadcrumb = { items: [] };
    }
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "autoRouter", {
        get: /**
         * @return {?}
         */
        function () {
            return this._autoRouter;
        },
        /**
         * @optional
         *
         * @description
         *
         * Cria automaticamente as rotas de edição (novo/duplicate) e detalhes caso sejam definidas ações na propriedade `t-actions`
         *
         * As rotas criadas serão baseadas na propriedade `t-actions`.
         *
         * > Para o correto funcionamento não pode haver nenhuma rota coringa (`**`) especificada.
         *
         * @default false
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Cria automaticamente as rotas de edição (novo/duplicate) e detalhes caso sejam definidas ações na propriedade `t-actions`
         *
         * As rotas criadas serão baseadas na propriedade `t-actions`.
         *
         * > Para o correto funcionamento não pode haver nenhuma rota coringa (`**`) especificada.
         *
         * \@default false
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._autoRouter = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "fields", {
        get: /**
         * @return {?}
         */
        function () {
            return this._fields;
        },
        /**
         * @optional
         *
         * @description
         *
         * Lista dos campos usados na tabela e busca avançada.
         *
         *
         * > Caso não seja definido fields a tabela assumirá o comportamento padrão.
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Lista dos campos usados na tabela e busca avançada.
         *
         *
         * > Caso não seja definido fields a tabela assumirá o comportamento padrão.
         * @param {?} fields
         * @return {?}
         */
        function (fields) {
            this._fields = Array.isArray(fields) ? tslib_1.__spread(fields) : [];
            this.setFieldsProperties(this.fields);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "columns", {
        get: /**
         * @return {?}
         */
        function () {
            return tslib_1.__spread(this._columns);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "duplicates", {
        get: /**
         * @return {?}
         */
        function () {
            return tslib_1.__spread(this._duplicates);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "filters", {
        get: /**
         * @return {?}
         */
        function () {
            return tslib_1.__spread(this._filters);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThfPageDynamicListBaseComponent.prototype, "keys", {
        get: /**
         * @return {?}
         */
        function () {
            return tslib_1.__spread(this._keys);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @private
     * @param {?} fields
     * @return {?}
     */
    ThfPageDynamicListBaseComponent.prototype.setFieldsProperties = /**
     * @private
     * @param {?} fields
     * @return {?}
     */
    function (fields) {
        this._filters = fields.filter((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.filter === true; }));
        this._columns = fields.filter((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.visible === undefined || field.visible === true; }));
        this._keys = fields.filter((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.key === true; })).map((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.property; }));
        this._duplicates = fields.filter((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.duplicate === true; })).map((/**
         * @param {?} field
         * @return {?}
         */
        function (field) { return field.property; }));
    };
    ThfPageDynamicListBaseComponent.propDecorators = {
        autoRouter: [{ type: Input, args: ['t-auto-router',] }],
        breadcrumb: [{ type: Input, args: ['t-breadcrumb',] }],
        fields: [{ type: Input, args: ['t-fields',] }],
        serviceApi: [{ type: Input, args: ['t-service-api',] }],
        title: [{ type: Input, args: ['t-title',] }]
    };
    return ThfPageDynamicListBaseComponent;
}());
export { ThfPageDynamicListBaseComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._autoRouter;
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._columns;
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._duplicates;
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._fields;
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._filters;
    /**
     * @type {?}
     * @private
     */
    ThfPageDynamicListBaseComponent.prototype._keys;
    /**
     * Objeto com propriedades do breadcrumb.
     * @type {?}
     */
    ThfPageDynamicListBaseComponent.prototype.breadcrumb;
    /**
     * \@description
     *
     * Endpoint usado pelo template para requisição dos recursos que serão exibidos.
     *
     * Caso a ação `remove` estiver configurada, será feito uma requisição de exclusão nesse mesmo endpoint passando os campos
     * setados como `key: true`.
     *
     * > `DELETE {end-point}/{keys}`
     *
     * ```
     *  <thf-page-dynamic-table
     *    [t-actions]="{ remove: true }"
     *    [t-fields]="[ { property: 'id', key: true } ]"
     *    t-service="/api/thf-samples/v1/people"
     *    ...>
     *  </thf-page-dynamic-table>
     * ```
     *
     * Resquisição disparada, onde a propriedade `id` é igual a 2:
     *
     * ```
     *  DELETE /api/thf-samples/v1/people/2 HTTP/1.1
     *  Host: localhost:4000
     *  Connection: keep-alive
     *  Accept: application/json, text/plain
     *  ...
     * ```
     *
     * Para a ação `removeAll`, será feito uma requisição de exclusão em lote para esse mesmo endpoint passando, uma lista
     * de objetos com os campos setados como `key: true` via `payload`.
     *
     * > `DELETE {end-point}`
     *
     * > `Payload: [ {key}, {key} ... {key} ]`
     *
     * ```
     *  <thf-page-dynamic-table
     *    [t-actions]="{ removeAll: true }"
     *    [t-fields]="[ { property: 'id', key: true } ]"
     *    t-service="/api/thf-samples/v1/people"
     *    ...>
     *  </thf-page-dynamic-table>
     * ```
     *
     * Resquisição disparada, onde foram selecionados 3 itens para serem removidos:
     *
     * ```
     *  DELETE /api/thf-samples/v1/people HTTP/1.1
     *  Host: localhost:4000
     *  Connection: keep-alive
     *  Accept: application/json, text/plain
     *  ...
     * ```
     *
     * Request payload:
     *
     * ```
     * [{"id":2},{"id":4},{"id":5}]
     * ```
     *
     * > Caso esteja usando metadados com o template, será disparado uma requisição na inicialização do template para buscar
     * > os metadados da página passando o tipo do metadado esperado e a versão cacheada pelo browser.
     * >
     * > `GET {end-point}/metadata?type=list&version={version}`
     * @type {?}
     */
    ThfPageDynamicListBaseComponent.prototype.serviceApi;
    /**
     * Título da página.
     * @type {?}
     */
    ThfPageDynamicListBaseComponent.prototype.title;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhmLXBhZ2UtZHluYW1pYy1saXN0LWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRvdHZzL3RoZi10ZW1wbGF0ZXMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy90aGYtcGFnZS1keW5hbWljLXRhYmxlL3RoZi1wYWdlLWR5bmFtaWMtbGlzdC1iYXNlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJdEMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJcEQ7SUFBQTtRQUVVLGdCQUFXLEdBQVksS0FBSyxDQUFDO1FBQzdCLGFBQVEsR0FBZSxFQUFFLENBQUM7UUFDMUIsZ0JBQVcsR0FBZSxFQUFFLENBQUM7UUFDN0IsWUFBTyxHQUFlLEVBQUUsQ0FBQztRQUN6QixhQUFRLEdBQWUsRUFBRSxDQUFDO1FBQzFCLFVBQUssR0FBZSxFQUFFLENBQUM7Ozs7UUF3QlIsZUFBVSxHQUFtQixFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQztJQXFIcEUsQ0FBQztJQTlIQyxzQkFBNEIsdURBQVU7Ozs7UUFJdEM7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDMUIsQ0FBQztRQW5CRDs7Ozs7Ozs7Ozs7O1dBWUc7Ozs7Ozs7Ozs7Ozs7Ozs7UUFDSCxVQUF1QyxLQUFjO1lBQ25ELElBQUksQ0FBQyxXQUFXLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsQ0FBQzs7O09BQUE7SUFtQkQsc0JBQXVCLG1EQUFNOzs7O1FBTTdCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3RCLENBQUM7UUFsQkQ7Ozs7Ozs7OztXQVNHOzs7Ozs7Ozs7Ozs7O1FBQ0gsVUFBOEIsTUFBdUM7WUFDbkUsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsa0JBQUssTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFFeEQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxDQUFDOzs7T0FBQTtJQThFRCxzQkFBSSxvREFBTzs7OztRQUFYO1lBQ0Usd0JBQVcsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUM1QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVEQUFVOzs7O1FBQWQ7WUFDRSx3QkFBVyxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQUksb0RBQU87Ozs7UUFBWDtZQUNFLHdCQUFXLElBQUksQ0FBQyxRQUFRLEVBQUU7UUFDNUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxpREFBSTs7OztRQUFSO1lBQ0Usd0JBQVcsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUN6QixDQUFDOzs7T0FBQTs7Ozs7O0lBRU8sNkRBQW1COzs7OztJQUEzQixVQUE0QixNQUFrQjtRQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNOzs7O1FBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsTUFBTSxLQUFLLElBQUksRUFBckIsQ0FBcUIsRUFBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU07Ozs7UUFBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxPQUFPLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssSUFBSSxFQUFyRCxDQUFxRCxFQUFDLENBQUM7UUFDOUYsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTTs7OztRQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQWxCLENBQWtCLEVBQUMsQ0FBQyxHQUFHOzs7O1FBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsUUFBUSxFQUFkLENBQWMsRUFBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU07Ozs7UUFBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxTQUFTLEtBQUssSUFBSSxFQUF4QixDQUF3QixFQUFDLENBQUMsR0FBRzs7OztRQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLFFBQVEsRUFBZCxDQUFjLEVBQUMsQ0FBQztJQUNuRyxDQUFDOzs2QkE1SEEsS0FBSyxTQUFDLGVBQWU7NkJBU3JCLEtBQUssU0FBQyxjQUFjO3lCQVlwQixLQUFLLFNBQUMsVUFBVTs2QkE2RWhCLEtBQUssU0FBQyxlQUFlO3dCQUdyQixLQUFLLFNBQUMsU0FBUzs7SUF5QmxCLHNDQUFDO0NBQUEsQUFwSkQsSUFvSkM7U0FwSlksK0JBQStCOzs7Ozs7SUFFMUMsc0RBQXFDOzs7OztJQUNyQyxtREFBa0M7Ozs7O0lBQ2xDLHNEQUFxQzs7Ozs7SUFDckMsa0RBQWlDOzs7OztJQUNqQyxtREFBa0M7Ozs7O0lBQ2xDLGdEQUErQjs7Ozs7SUF3Qi9CLHFEQUFrRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF5RmxFLHFEQUEyQzs7Ozs7SUFHM0MsZ0RBQWdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgVGhmQnJlYWRjcnVtYiB9IGZyb20gJ0B0b3R2cy90aGYtdWknO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5cbmltcG9ydCB7IFRoZlBhZ2VEeW5hbWljVGFibGVGaWVsZCB9IGZyb20gJy4vdGhmLXBhZ2UtZHluYW1pYy10YWJsZS1maWVsZC5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgVGhmUGFnZUR5bmFtaWNMaXN0QmFzZUNvbXBvbmVudCB7XG5cbiAgcHJpdmF0ZSBfYXV0b1JvdXRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9jb2x1bW5zOiBBcnJheTxhbnk+ID0gW107XG4gIHByaXZhdGUgX2R1cGxpY2F0ZXM6IEFycmF5PGFueT4gPSBbXTtcbiAgcHJpdmF0ZSBfZmllbGRzOiBBcnJheTxhbnk+ID0gW107XG4gIHByaXZhdGUgX2ZpbHRlcnM6IEFycmF5PGFueT4gPSBbXTtcbiAgcHJpdmF0ZSBfa2V5czogQXJyYXk8YW55PiA9IFtdO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENyaWEgYXV0b21hdGljYW1lbnRlIGFzIHJvdGFzIGRlIGVkacOnw6NvIChub3ZvL2R1cGxpY2F0ZSkgZSBkZXRhbGhlcyBjYXNvIHNlamFtIGRlZmluaWRhcyBhw6fDtWVzIG5hIHByb3ByaWVkYWRlIGB0LWFjdGlvbnNgXG4gICAqXG4gICAqIEFzIHJvdGFzIGNyaWFkYXMgc2Vyw6NvIGJhc2VhZGFzIG5hIHByb3ByaWVkYWRlIGB0LWFjdGlvbnNgLlxuICAgKlxuICAgKiA+IFBhcmEgbyBjb3JyZXRvIGZ1bmNpb25hbWVudG8gbsOjbyBwb2RlIGhhdmVyIG5lbmh1bWEgcm90YSBjb3JpbmdhIChgKipgKSBlc3BlY2lmaWNhZGEuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBASW5wdXQoJ3QtYXV0by1yb3V0ZXInKSBzZXQgYXV0b1JvdXRlcih2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2F1dG9Sb3V0ZXIgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBhdXRvUm91dGVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9hdXRvUm91dGVyO1xuICB9XG5cbiAgLyoqIE9iamV0byBjb20gcHJvcHJpZWRhZGVzIGRvIGJyZWFkY3J1bWIuICovXG4gIEBJbnB1dCgndC1icmVhZGNydW1iJykgYnJlYWRjcnVtYj86IFRoZkJyZWFkY3J1bWIgPSB7IGl0ZW1zOiBbXSB9O1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExpc3RhIGRvcyBjYW1wb3MgdXNhZG9zIG5hIHRhYmVsYSBlIGJ1c2NhIGF2YW7Dp2FkYS5cbiAgICpcbiAgICpcbiAgICogPiBDYXNvIG7Do28gc2VqYSBkZWZpbmlkbyBmaWVsZHMgYSB0YWJlbGEgYXNzdW1pcsOhIG8gY29tcG9ydGFtZW50byBwYWRyw6NvLlxuICAgKi9cbiAgQElucHV0KCd0LWZpZWxkcycpIHNldCBmaWVsZHMoZmllbGRzOiBBcnJheTxUaGZQYWdlRHluYW1pY1RhYmxlRmllbGQ+KSB7XG4gICAgdGhpcy5fZmllbGRzID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gWy4uLmZpZWxkc10gOiBbXTtcblxuICAgIHRoaXMuc2V0RmllbGRzUHJvcGVydGllcyh0aGlzLmZpZWxkcyk7XG4gIH1cblxuICBnZXQgZmllbGRzKCk6IEFycmF5PFRoZlBhZ2VEeW5hbWljVGFibGVGaWVsZD4ge1xuICAgIHJldHVybiB0aGlzLl9maWVsZHM7XG4gIH1cblxuICAvKiogRW5kcG9pbnQgZGEgQVBJIGRvcyByZWN1cnNvcyBxdWUgc2Vyw6NvIGV4aWJpZG9zLiAqL1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEVuZHBvaW50IHVzYWRvIHBlbG8gdGVtcGxhdGUgcGFyYSByZXF1aXNpw6fDo28gZG9zIHJlY3Vyc29zIHF1ZSBzZXLDo28gZXhpYmlkb3MuXG4gICAqXG4gICAqIENhc28gYSBhw6fDo28gYHJlbW92ZWAgZXN0aXZlciBjb25maWd1cmFkYSwgc2Vyw6EgZmVpdG8gdW1hIHJlcXVpc2nDp8OjbyBkZSBleGNsdXPDo28gbmVzc2UgbWVzbW8gZW5kcG9pbnQgcGFzc2FuZG8gb3MgY2FtcG9zXG4gICAqIHNldGFkb3MgY29tbyBga2V5OiB0cnVlYC5cbiAgICpcbiAgICogPiBgREVMRVRFIHtlbmQtcG9pbnR9L3trZXlzfWBcbiAgICpcbiAgICogYGBgXG4gICAqICA8dGhmLXBhZ2UtZHluYW1pYy10YWJsZVxuICAgKiAgICBbdC1hY3Rpb25zXT1cInsgcmVtb3ZlOiB0cnVlIH1cIlxuICAgKiAgICBbdC1maWVsZHNdPVwiWyB7IHByb3BlcnR5OiAnaWQnLCBrZXk6IHRydWUgfSBdXCJcbiAgICogICAgdC1zZXJ2aWNlPVwiL2FwaS90aGYtc2FtcGxlcy92MS9wZW9wbGVcIlxuICAgKiAgICAuLi4+XG4gICAqICA8L3RoZi1wYWdlLWR5bmFtaWMtdGFibGU+XG4gICAqIGBgYFxuICAgKlxuICAgKiBSZXNxdWlzacOnw6NvIGRpc3BhcmFkYSwgb25kZSBhIHByb3ByaWVkYWRlIGBpZGAgw6kgaWd1YWwgYSAyOlxuICAgKlxuICAgKiBgYGBcbiAgICogIERFTEVURSAvYXBpL3RoZi1zYW1wbGVzL3YxL3Blb3BsZS8yIEhUVFAvMS4xXG4gICAqICBIb3N0OiBsb2NhbGhvc3Q6NDAwMFxuICAgKiAgQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICAgKiAgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluXG4gICAqICAuLi5cbiAgICogYGBgXG4gICAqXG4gICAqIFBhcmEgYSBhw6fDo28gYHJlbW92ZUFsbGAsIHNlcsOhIGZlaXRvIHVtYSByZXF1aXNpw6fDo28gZGUgZXhjbHVzw6NvIGVtIGxvdGUgcGFyYSBlc3NlIG1lc21vIGVuZHBvaW50IHBhc3NhbmRvLCB1bWEgbGlzdGFcbiAgICogZGUgb2JqZXRvcyBjb20gb3MgY2FtcG9zIHNldGFkb3MgY29tbyBga2V5OiB0cnVlYCB2aWEgYHBheWxvYWRgLlxuICAgKlxuICAgKiA+IGBERUxFVEUge2VuZC1wb2ludH1gXG4gICAqXG4gICAqID4gYFBheWxvYWQ6IFsge2tleX0sIHtrZXl9IC4uLiB7a2V5fSBdYFxuICAgKlxuICAgKiBgYGBcbiAgICogIDx0aGYtcGFnZS1keW5hbWljLXRhYmxlXG4gICAqICAgIFt0LWFjdGlvbnNdPVwieyByZW1vdmVBbGw6IHRydWUgfVwiXG4gICAqICAgIFt0LWZpZWxkc109XCJbIHsgcHJvcGVydHk6ICdpZCcsIGtleTogdHJ1ZSB9IF1cIlxuICAgKiAgICB0LXNlcnZpY2U9XCIvYXBpL3RoZi1zYW1wbGVzL3YxL3Blb3BsZVwiXG4gICAqICAgIC4uLj5cbiAgICogIDwvdGhmLXBhZ2UtZHluYW1pYy10YWJsZT5cbiAgICogYGBgXG4gICAqXG4gICAqIFJlc3F1aXNpw6fDo28gZGlzcGFyYWRhLCBvbmRlIGZvcmFtIHNlbGVjaW9uYWRvcyAzIGl0ZW5zIHBhcmEgc2VyZW0gcmVtb3ZpZG9zOlxuICAgKlxuICAgKiBgYGBcbiAgICogIERFTEVURSAvYXBpL3RoZi1zYW1wbGVzL3YxL3Blb3BsZSBIVFRQLzEuMVxuICAgKiAgSG9zdDogbG9jYWxob3N0OjQwMDBcbiAgICogIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAgICogIEFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpblxuICAgKiAgLi4uXG4gICAqIGBgYFxuICAgKlxuICAgKiBSZXF1ZXN0IHBheWxvYWQ6XG4gICAqXG4gICAqIGBgYFxuICAgKiBbe1wiaWRcIjoyfSx7XCJpZFwiOjR9LHtcImlkXCI6NX1dXG4gICAqIGBgYFxuICAgKlxuICAgKiA+IENhc28gZXN0ZWphIHVzYW5kbyBtZXRhZGFkb3MgY29tIG8gdGVtcGxhdGUsIHNlcsOhIGRpc3BhcmFkbyB1bWEgcmVxdWlzacOnw6NvIG5hIGluaWNpYWxpemHDp8OjbyBkbyB0ZW1wbGF0ZSBwYXJhIGJ1c2NhclxuICAgKiA+IG9zIG1ldGFkYWRvcyBkYSBww6FnaW5hIHBhc3NhbmRvIG8gdGlwbyBkbyBtZXRhZGFkbyBlc3BlcmFkbyBlIGEgdmVyc8OjbyBjYWNoZWFkYSBwZWxvIGJyb3dzZXIuXG4gICAqID5cbiAgICogPiBgR0VUIHtlbmQtcG9pbnR9L21ldGFkYXRhP3R5cGU9bGlzdCZ2ZXJzaW9uPXt2ZXJzaW9ufWBcbiAgICovXG4gIEBJbnB1dCgndC1zZXJ2aWNlLWFwaScpIHNlcnZpY2VBcGk6IHN0cmluZztcblxuICAvKiogVMOtdHVsbyBkYSBww6FnaW5hLiAqL1xuICBASW5wdXQoJ3QtdGl0bGUnKSB0aXRsZTogc3RyaW5nO1xuXG4gIGdldCBjb2x1bW5zKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fY29sdW1uc107XG4gIH1cblxuICBnZXQgZHVwbGljYXRlcygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX2R1cGxpY2F0ZXNdO1xuICB9XG5cbiAgZ2V0IGZpbHRlcnMoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9maWx0ZXJzXTtcbiAgfVxuXG4gIGdldCBrZXlzKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fa2V5c107XG4gIH1cblxuICBwcml2YXRlIHNldEZpZWxkc1Byb3BlcnRpZXMoZmllbGRzOiBBcnJheTxhbnk+KSB7XG4gICAgdGhpcy5fZmlsdGVycyA9IGZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQuZmlsdGVyID09PSB0cnVlKTtcbiAgICB0aGlzLl9jb2x1bW5zID0gZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC52aXNpYmxlID09PSB1bmRlZmluZWQgfHwgZmllbGQudmlzaWJsZSA9PT0gdHJ1ZSk7XG4gICAgdGhpcy5fa2V5cyA9IGZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQua2V5ID09PSB0cnVlKS5tYXAoZmllbGQgPT4gZmllbGQucHJvcGVydHkpO1xuICAgIHRoaXMuX2R1cGxpY2F0ZXMgPSBmaWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmR1cGxpY2F0ZSA9PT0gdHJ1ZSkubWFwKGZpZWxkID0+IGZpZWxkLnByb3BlcnR5KTtcbiAgfVxuXG59XG4iXX0=